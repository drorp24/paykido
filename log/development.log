# Logfile created on Thu Jun 10 13:50:58 +0300 2010

Processing ServiceController#index (for 127.0.0.1 at 2010-06-10 16:12:25) [GET]
Rendering template within layouts/service
Rendering service/index
Completed in 2032ms (View: 2032, DB: 0) | 200 OK [http://localhost/service]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-10 16:12:33) [GET]
Rendering template within layouts/service
Rendering service/signin
Completed in 109ms (View: 93, DB: 16) | 200 OK [http://localhost/service/signin]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-10 16:12:38) [POST]
  Parameters: {"user"=>{"name"=>"drorp108", "password"=>"1", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."name" = 'drorp108') LIMIT 1[0m
  [4;35;1mPayer Load (0.0ms)[0m   [0mSELECT * FROM "payers" WHERE ("payers"."id" = 102) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".payer_id = 102) ORDER BY created_at DESC LIMIT 1[0m
Redirected to http://localhost:3000/service/payer_signedin
Completed in 1344ms (DB: 0) | 302 Found [http://localhost/service/signin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 16:12:40) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (undefined method `edited_balance' for #<Payer:0x4862e88>) on line #141 of app/views/service/payer_signedin.html.erb:
138: 
139: 		<p>
140:     		<span id="balance_slider" onclick="modifyBalance()">Current Balance</span>
141: 			<span ><%= text_field(:payer, :edited_balance, :onchange => "drawChart()", :id => "balance") %>
142: 			</span>
143: 		</p>
144:      	<p>

    app/views/service/payer_signedin.html.erb:141
    app/views/service/payer_signedin.html.erb:136

Rendered rescues/_trace (203.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing AolController#select_consumer (for 127.0.0.1 at 2010-06-10 16:18:38) [GET]
  Parameters: {"id"=>"rules_menu"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/aol
Rendering aol/select_consumer
Completed in 359ms (View: 46, DB: 0) | 200 OK [http://localhost/aol/select_consumer/rules_menu]


Processing AolController#welcome_signedin (for 127.0.0.1 at 2010-06-10 16:18:42) [GET]
  [4;35;1mPurchase Load (0.0ms)[0m   [0mSELECT * FROM "purchases" WHERE (authorization_type = 'PendingPayer') AND ("purchases"."payer_id" = 102) [0m
Rendering template within layouts/aol
Rendering aol/welcome_signedin
Completed in 328ms (View: 47, DB: 0) | 200 OK [http://localhost/aol/welcome_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 16:36:43) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (undefined method `edited_budget' for #<Payer:0x454a098>) on line #141 of app/views/service/payer_signedin.html.erb:
138: 
139: 		<p>
140:     		<span id="balance_slider" onclick="modifyBalance()">Current Balance</span>
141: 			<span ><%= text_field(:payer, :edited_budget, :onchange => "drawChart()", :id => "balance") %>
142: 			</span>
143: 		</p>
144:      	<p>

    app/views/service/payer_signedin.html.erb:141
    app/views/service/payer_signedin.html.erb:136

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 16:37:20) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 234ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-10 16:47:29) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"87658765343"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '87658765343') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 188ms (View: 16, DB: 16) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-10 16:47:39) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"9875439874"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-10 16:47:42) [POST]
  Parameters: {"consumer"=>{"pin"=>""}}
Rendering service/check_pin_and_link_consumer
Completed in 234ms (View: 31, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-10 16:47:48) [POST]
  Parameters: {"consumer"=>{"pin"=>"4682"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-10 13:47:48', '9875439874', 102, '2010-06-10 13:47:48', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (0.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-10 13:47:48', 69.0, 10.0, 146, NULL, 't', '2010-06-10 13:47:48')[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/check_pin_and_link_consumer
Completed in 328ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-10 16:51:24) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"9875439875"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439875') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-10 16:51:26) [POST]
  Parameters: {"consumer"=>{"pin"=>"4682"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-10 16:51:31) [POST]
  Parameters: {"consumer"=>{"pin"=>"2382"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-10 13:51:32', '9875439875', 102, '2010-06-10 13:51:32', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (0.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-10 13:51:32', 69.0, 10.0, 147, NULL, 't', '2010-06-10 13:51:32')[0m
Rendering service/check_pin_and_link_consumer
Completed in 328ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-10 16:52:45) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"9875439876"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439876') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-10 16:52:47) [POST]
  Parameters: {"consumer"=>{"pin"=>"2382"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-10 16:52:55) [POST]
  Parameters: {"consumer"=>{"pin"=>"5185"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-10 13:52:55', '9875439876', 102, '2010-06-10 13:52:55', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-10 13:52:55', 69.0, 10.0, 148, NULL, 't', '2010-06-10 13:52:55')[0m
Rendering service/check_pin_and_link_consumer
Completed in 531ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 17:02:37) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (undefined method `billing_phone' for true:TrueClass) on line #22 of app/views/service/payer_signedin.html.erb:
19: 				<p class="inner_content_text">To add a consumer, key-in his or her phone number and wait for the text message.</p>
20: 				<br />
21: 				<% form_for(:consumer, :url => {:action => "sms_consumer"}, :html => {:id => "phone_form"}) do |f| %>
22: 					<%= f.text_field :billing_phone, :size => 20, :placeholder => "Phone number", :class => "formfield" %>
23: 					<%= submit_tag "Click when done",:class => "fg-button ui-state-default loginbutton ui-corner-all"  %>
24: 				<% end %>
25: 				<br />

    app/views/service/payer_signedin.html.erb:22
    app/views/service/payer_signedin.html.erb:21

Rendered rescues/_trace (218.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 17:05:02) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (undefined method `billing_phone' for true:TrueClass) on line #22 of app/views/service/payer_signedin.html.erb:
19: 				<p class="inner_content_text">To add a consumer, key-in his or her phone number and wait for the text message.</p>
20: 				<br />
21: 				<% form_for(:consumer, :url => {:action => "sms_consumer"}, :html => {:id => "phone_form"}) do |f| %>
22: 					<%= f.text_field :billing_phone, :size => 20, :placeholder => "Phone number", :class => "formfield" %>
23: 					<%= submit_tag "Click when done",:class => "fg-button ui-state-default loginbutton ui-corner-all"  %>
24: 				<% end %>
25: 				<br />

    app/views/service/payer_signedin.html.erb:22
    app/views/service/payer_signedin.html.erb:21

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-10 17:22:35) [POST]
  Parameters: {"user"=>{"name"=>"drorp108", "password"=>"", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'drorp108') LIMIT 1[0m
Rendering template within layouts/service
Rendering service/signin
Completed in 187ms (View: 0, DB: 0) | 200 OK [http://localhost/service/signin]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-10 17:22:44) [POST]
  Parameters: {"user"=>{"name"=>"drorp108", "password"=>"1", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."name" = 'drorp108') LIMIT 1[0m
  [4;35;1mPayer Load (0.0ms)[0m   [0mSELECT * FROM "payers" WHERE ("payers"."id" = 102) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".payer_id = 102) ORDER BY created_at DESC LIMIT 1[0m
Redirected to http://localhost:3000/service/payer_signedin
Completed in 78ms (DB: 0) | 302 Found [http://localhost/service/signin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 17:22:44) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (undefined method `billing_phone' for true:TrueClass) on line #22 of app/views/service/payer_signedin.html.erb:
19: 				<p class="inner_content_text">To add a consumer, key-in his or her phone number and wait for the text message.</p>
20: 				<br />
21: 				<% form_for(:consumer, :url => {:action => "sms_consumer"}, :html => {:id => "phone_form"}) do |f| %>
22: 					<%= f.text_field :billing_phone, :size => 20, :placeholder => "Phone number", :class => "formfield" %>
23: 					<%= submit_tag "Click when done",:class => "fg-button ui-state-default loginbutton ui-corner-all"  %>
24: 				<% end %>
25: 				<br />

    app/views/service/payer_signedin.html.erb:22
    app/views/service/payer_signedin.html.erb:21

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 17:23:08) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (undefined method `billing_phone' for true:TrueClass) on line #22 of app/views/service/payer_signedin.html.erb:
19: 				<p class="inner_content_text">To add a consumer, key-in his or her phone number and wait for the text message.</p>
20: 				<br />
21: 				<% form_for(:consumer, :url => {:action => "sms_consumer"}, :html => {:id => "phone_form"}) do |f| %>
22: 					<%= f.text_field :billing_phone, :size => 20, :placeholder => "Phone number", :class => "formfield" %>
23: 					<%= submit_tag "Click when done",:class => "fg-button ui-state-default loginbutton ui-corner-all"  %>
24: 				<% end %>
25: 				<br />

    app/views/service/payer_signedin.html.erb:22
    app/views/service/payer_signedin.html.erb:21

Rendered rescues/_trace (187.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 17:23:13) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (undefined method `billing_phone' for true:TrueClass) on line #22 of app/views/service/payer_signedin.html.erb:
19: 				<p class="inner_content_text">To add a consumer, key-in his or her phone number and wait for the text message.</p>
20: 				<br />
21: 				<% form_for(:consumer, :url => {:action => "sms_consumer"}, :html => {:id => "phone_form"}) do |f| %>
22: 					<%= f.text_field :billing_phone, :size => 20, :placeholder => "Phone number", :class => "formfield" %>
23: 					<%= submit_tag "Click when done",:class => "fg-button ui-state-default loginbutton ui-corner-all"  %>
24: 				<% end %>
25: 				<br />

    app/views/service/payer_signedin.html.erb:22
    app/views/service/payer_signedin.html.erb:21

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 17:23:47) [GET]
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (undefined method `billing_phone' for true:TrueClass) on line #22 of app/views/service/payer_signedin.html.erb:
19: 				<p class="inner_content_text">To add a consumer, key-in his or her phone number and wait for the text message.</p>
20: 				<br />
21: 				<% form_for(:consumer, :url => {:action => "sms_consumer"}, :html => {:id => "phone_form"}) do |f| %>
22: 					<%= f.text_field :billing_phone, :size => 20, :placeholder => "Phone number", :class => "formfield" %>
23: 					<%= submit_tag "Click when done",:class => "fg-button ui-state-default loginbutton ui-corner-all"  %>
24: 				<% end %>
25: 				<br />

    app/views/service/payer_signedin.html.erb:22
    app/views/service/payer_signedin.html.erb:21

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 17:30:58) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (undefined method `billing_phone' for true:TrueClass) on line #22 of app/views/service/payer_signedin.html.erb:
19: 				<p class="inner_content_text">To add a consumer, key-in his or her phone number and wait for the text message.</p>
20: 				<br />
21: 				<% form_for(:consumer, :url => {:action => "sms_consumer"}, :html => {:id => "phone_form"}) do |f| %>
22: 					<%= f.text_field :billing_phone, :size => 20, :placeholder => "Phone number", :class => "formfield" %>
23: 					<%= submit_tag "Click when done",:class => "fg-button ui-state-default loginbutton ui-corner-all"  %>
24: 				<% end %>
25: 				<br />

    app/views/service/payer_signedin.html.erb:22
    app/views/service/payer_signedin.html.erb:21

Rendered rescues/_trace (188.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 17:34:00) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (undefined method `pin' for true:TrueClass) on line #22 of app/views/service/payer_signedin.html.erb:
19: 				<p class="inner_content_text">To add a consumer, key-in his or her phone number and wait for the text message.</p>
20: 				<br />
21: 				<% form_for(:consumer, :url => {:action => "sms_consumer"}, :html => {:id => "phone_form"}) do |f| %>
22: 					<%= f.text_field :pin, :size => 20, :placeholder => "Phone number", :class => "formfield" %>
23: 					<%= submit_tag "Click when done",:class => "fg-button ui-state-default loginbutton ui-corner-all"  %>
24: 				<% end %>
25: 				<br />

    app/views/service/payer_signedin.html.erb:22
    app/views/service/payer_signedin.html.erb:21

Rendered rescues/_trace (187.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 17:35:16) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 328ms (View: 250, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 17:36:37) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 17:57:12) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 18:07:32) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#index (for 127.0.0.1 at 2010-06-10 18:30:01) [GET]
Rendering template within layouts/service
Rendering service/index
Completed in 0ms (View: 0, DB: 0) | 200 OK [http://localhost/service]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-10 18:30:06) [GET]
Rendering template within layouts/service
Rendering service/signin
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/service/signin]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-10 18:30:11) [POST]
  Parameters: {"user"=>{"name"=>"drorp108", "password"=>"1", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'drorp108') LIMIT 1[0m
  [4;36;1mPayer Load (16.0ms)[0m   [0;1mSELECT * FROM "payers" WHERE ("payers"."id" = 102) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".payer_id = 102) ORDER BY created_at DESC LIMIT 1[0m
Redirected to http://localhost:3000/service/payer_signedin
Completed in 79ms (DB: 16) | 302 Found [http://localhost/service/signin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 18:30:11) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 218ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-10 18:45:33) [GET]
Rendering template within layouts/service
Rendering service/signin
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/service/signin]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-10 18:45:43) [POST]
  Parameters: {"user"=>{"name"=>"drorp108", "password"=>"1", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'drorp108') LIMIT 1[0m
  [4;36;1mPayer Load (0.0ms)[0m   [0;1mSELECT * FROM "payers" WHERE ("payers"."id" = 102) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".payer_id = 102) ORDER BY created_at DESC LIMIT 1[0m
Redirected to http://localhost:3000/service/payer_signedin
Completed in 78ms (DB: 0) | 302 Found [http://localhost/service/signin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 18:45:43) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing AolController#select_consumer (for 127.0.0.1 at 2010-06-10 18:50:42) [GET]
  Parameters: {"id"=>"budget_form"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/aol
Rendering aol/select_consumer
Completed in 250ms (View: 15, DB: 0) | 200 OK [http://localhost/aol/select_consumer/budget_form]


Processing AolController#budget_form (for 127.0.0.1 at 2010-06-10 18:51:00) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/aol
Rendering aol/budget_form
Completed in 422ms (View: 47, DB: 0) | 200 OK [http://localhost/aol/budget_form/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 18:52:36) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 296ms (View: 171, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing AolController#signin (for 127.0.0.1 at 2010-06-10 18:54:47) [GET]
Rendering template within layouts/aol
Rendering aol/signin
Completed in 93ms (View: 93, DB: 0) | 200 OK [http://localhost/aol/signin]


Processing AolController#signin (for 127.0.0.1 at 2010-06-10 18:54:52) [POST]
  Parameters: {"user"=>{"name"=>"drorp108", "password"=>"1"}}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'drorp108') LIMIT 1[0m
  [4;36;1mPayer Load (0.0ms)[0m   [0;1mSELECT * FROM "payers" WHERE ("payers"."id" = 102) [0m
Redirected to http://localhost:3000/aol/welcome_signedin
Completed in 63ms (DB: 0) | 302 Found [http://localhost/aol/signin]


Processing AolController#welcome_signedin (for 127.0.0.1 at 2010-06-10 18:54:53) [GET]
  [4;35;1mPurchase Load (0.0ms)[0m   [0mSELECT * FROM "purchases" WHERE (authorization_type = 'PendingPayer') AND ("purchases"."payer_id" = 102) [0m
Rendering template within layouts/aol
Rendering aol/welcome_signedin
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/aol/welcome_signedin]


Processing AolController#select_consumer (for 127.0.0.1 at 2010-06-10 18:54:57) [GET]
  Parameters: {"id"=>"budget_form"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/aol
Rendering aol/select_consumer
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/aol/select_consumer/budget_form]


Processing AolController#budget_form (for 127.0.0.1 at 2010-06-10 18:54:58) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/aol
Rendering aol/budget_form
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/aol/budget_form/144]


Processing ServiceController#budget_update (for 127.0.0.1 at 2010-06-10 18:55:24) [POST]
  Parameters: {"consumer"=>{"edited_balance"=>"$0.00"}, "commit"=>"Submit", "consumer_rule"=>{"edited_budget"=>"120", "rollover"=>"0"}}

ActionController::UnknownAction (No action responded to budget_update. Actions: check_pin_and_link_consumer, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 18:56:48) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 390ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 18:59:46) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 157, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:00:49) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:01:43) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 157ms (View: 79, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#budget_update (for 127.0.0.1 at 2010-06-10 19:02:36) [POST]
  Parameters: {"consumer"=>{"edited_balance"=>"$0.00"}, "commit"=>"Submit", "consumer_rule"=>{"edited_budget"=>"120", "rollover"=>"0"}}

ActionController::UnknownAction (No action responded to budget_update. Actions: check_pin_and_link_consumer, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:03:22) [GET]
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:05:59) [GET]
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 62, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:09:45) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 63, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:10:39) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 63, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:11:14) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 141, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:12:30) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:13:10) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:14:06) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 234ms (View: 46, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:25:29) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 172, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:25:42) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (16.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 32) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:26:22) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 63, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:27:33) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:28:21) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 63, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:28:54) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 328ms (View: 250, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:29:41) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 63, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:30:19) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:30:44) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:32:31) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:57:49) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 63, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 19:59:00) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 406ms (View: 328, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 20:00:59) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 20:01:38) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 20:02:03) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 157ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 23:12:28) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 328ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 23:19:45) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 172, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-10 23:42:05) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 1) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 1) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 203, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 00:08:07) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 46, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 00:10:18) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 00:31:40) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 00:33:04) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 00:33:17) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 00:33:33) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 234ms (View: 47, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 00:45:11) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 203, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 00:45:30) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 00:52:36) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 63, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 00:53:21) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 265ms (View: 78, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 00:54:01) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 157ms (View: 79, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 01:01:22) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 63, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 01:04:41) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 157ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 01:05:07) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (16.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 63, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 01:08:13) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (Attempt to call private method) on line #53 of app/views/service/payer_signedin.html.erb:
50: 	<% for consumer in @consumers %>
51: 		<% rem = i % 2 %>
52: 		<% if rem == 1 %>
53: 			$('#column1').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "consumer_selected(<%= escape_javascript(consumer)%>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
54: 		<% else %>
55: 			$('#column2').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
56: 		<% end %>

    app/views/service/payer_signedin.html.erb:53
    app/views/service/payer_signedin.html.erb:50:in `each'
    app/views/service/payer_signedin.html.erb:50

Rendered rescues/_trace (93.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 01:09:59) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 01:10:14) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 01:14:24) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
ERROR: compiling _run_erb_app47views47service47payer_signedin46html46erb RAISED compile error
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:53: syntax error, unexpected kCLASS, expecting ')'
@output_buffer.concat "\t\t\t$('#column1').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\">"; @output_buffer.concat(( escape_javascript(div onclick = "consumer_selected(#{consumer})" class="portlet-header ui-widget-header ui-corner-all") ).to_s); @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div><div class=\"portlet-content\">Lorem ipsum dolor sit amet, consectetuer adipisc
                                                                                                                                                                                                                                        ^
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:53: syntax error, unexpected ')', expecting kEND
@output_buffer.concat "\t\t\t$('#column1').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\">"; @output_buffer.concat(( escape_javascript(div onclick = "consumer_selected(#{consumer})" class="portlet-header ui-widget-header ui-corner-all") ).to_s); @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div><div class=\"portlet-content\">Lorem ipsum dolor sit amet, consectetuer adipisc
                                                                                                                                                                                                                                                                                                 ^
Function body:           def _run_erb_app47views47service47payer_signedin46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div id=\"tabs\">\n"
@output_buffer.concat "\t<ul>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-1\">Consumers</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-2\">Inbox</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-3\">Allowance</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-4\">Content</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-5\">Rules</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-6\">Information</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-7\">Account</a></li>\n"
@output_buffer.concat "\t</ul>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-1\">\n"
@output_buffer.concat "\t\t<div class=\"left_content\">\n"
@output_buffer.concat "\t\t\t<div class=\"inner_content_title plain_message\">"; @output_buffer.concat(( @message).to_s); @output_buffer.concat "</div>\n"
@output_buffer.concat "\t\t\t<p class=\"inner_content_title\">Who would you like to take care for?</p>\n"
@output_buffer.concat "\t\t\t<div class=\"inner_content_indented\">\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_text\">Define here who gets a one-click shopping experience (provided your rules are met).</p>\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_text\">To add a consumer, key-in his or her phone number and wait for the text message.</p>\n"
@output_buffer.concat "\t\t\t\t<br />\n"
@output_buffer.concat "\t\t\t\t";  form_for(:consumer, :url => {:action => "sms_consumer"}, :html => {:id => "phone_form"}) do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( f.text_field :billing_phone, :size => 20, :placeholder => "Phone number", :class => "formfield" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( submit_tag "Click when done",:class => "fg-button ui-state-default loginbutton ui-corner-all"  ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t<br />\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_text\">Once you got the text message, key-in the PIN code here:</p>  \n"
@output_buffer.concat "\t\t\t\t";  form_for(:consumer, :url => {:action => "check_pin_and_link_consumer"}, :html => {:id => "pin_form"}) do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( f.text_field :pin, :size => 20, :placeholder => "Received PIN", :class => "formfield"  ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( submit_tag "Click when done", :class => "fg-button ui-state-default loginbutton ui-corner-all"  ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</div>\n"
@output_buffer.concat "\t\t</div>\n"
@output_buffer.concat "\t\t<div class=\"right_content\">\n"
@output_buffer.concat "\t\t\t<div class=\"inner_content_title plain_message\"></div>\n"
@output_buffer.concat "\t\t\t";  if @consumers.empty? ; @output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( image_tag "/images/thanks_for_joining5.png", :class => "righthandside_marketial" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_title\" id=\"consumers\">Existing Consumers</p>\n"
@output_buffer.concat "\t\t\t\t<br />\n"
@output_buffer.concat "\t\t\t\t\t<div class=\"column\" id=\"column1\">\n"
@output_buffer.concat "\t\t\t\t\t</div>\n"
@output_buffer.concat "\t\t\t\t\t<div class=\"column\" id=\"column2\">\n"
@output_buffer.concat "\t\t\t\t\t</div>\n"
@output_buffer.concat "\t\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t</div>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<script type=\"text/javascript\">\n"
@output_buffer.concat "\t";  i = 1 ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  for consumer in @consumers ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  rem = i % 2 ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  if rem == 1 ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t$('#column1').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\">"; @output_buffer.concat(( escape_javascript(div onclick = "consumer_selected(#{consumer})" class="portlet-header ui-widget-header ui-corner-all") ).to_s); @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div><div class=\"portlet-content\">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');\n"
@output_buffer.concat "\t\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t$('#column2').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><div class=\"portlet-header ui-widget-header ui-corner-all\">"; @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div><div class=\"portlet-content\">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');\n"
@output_buffer.concat "\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  i += 1 ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\tfunction consumer_selected (consumer) {\n"
@output_buffer.concat "\t\talert(consumer);\n"
@output_buffer.concat "\t}\n"
@output_buffer.concat "</script>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-2\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<div id=\"tabs-3\">\n"
@output_buffer.concat "\t<script type=\"text/javascript\">\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "/*\n"
@output_buffer.concat "\t\tfunction modifyBudget () {\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\t\t$(function () {\n"
@output_buffer.concat "\t\t\t  \tvar budget_with_currency = document.getElementById(\"budget\").value;\n"
@output_buffer.concat "\t\t\t\tvar budget = Number(budget_with_currency.replace(/[^0-9\\.]+/g,\"\"));\n"
@output_buffer.concat "\t\t\t\t$(\"#budget_slider\").slider({\n"
@output_buffer.concat "\t\t\t\t\tvalue: budget,\n"
@output_buffer.concat "\t\t\t\t\tmin: 0,\n"
@output_buffer.concat "\t\t\t\t\tmax: 150,\n"
@output_buffer.concat "\t\t\t\t\tslide: function(event, ui) {\n"
@output_buffer.concat "\t\t\t\t\t\t$(\"#budget\").val('$' + ui.value +'.00');\n"
@output_buffer.concat "\t\t\t\t\t}\n"
@output_buffer.concat "\t\t\t\t});\n"
@output_buffer.concat "\t\t\t\t$(\"#budget\").val('$' + $(\"#budget_slider\").slider(\"value\")+'.00');\n"
@output_buffer.concat "\t\t\t\tdrawChart();\n"
@output_buffer.concat "\t\t\t});\n"
@output_buffer.concat "\t\t}\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\tfunction modifyBalance () {\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\t\t$(function () {\n"
@output_buffer.concat "\t\t\t  \tvar balance_with_currency = document.getElementById(\"balance\").value;\n"
@output_buffer.concat "\t\t\t\tvar balance = Number(balance_with_currency.replace(/[^0-9\\.]+/g,\"\"));\n"
@output_buffer.concat "\t\t\t\t$(\"#balance_slider\").slider({\n"
@output_buffer.concat "\t\t\t\t\tvalue: balance,\n"
@output_buffer.concat "\t\t\t\t\tmin: 0,\n"
@output_buffer.concat "\t\t\t\t\tmax: 150,\n"
@output_buffer.concat "\t\t\t\t\tslide: function(event, ui) {\n"
@output_buffer.concat "\t\t\t\t\t\t$(\"#balance\").val('$' + ui.value +'.00');\n"
@output_buffer.concat "\t\t\t\t\t}\n"
@output_buffer.concat "\t\t\t\t});\n"
@output_buffer.concat "\t\t\t\t$(\"#balance\").val('$' + $(\"#balance_slider\").slider(\"value\")+'.00');\n"
@output_buffer.concat "\t\t\t\tdrawChart();\n"
@output_buffer.concat "\t\t\t});\n"
@output_buffer.concat "\t\t}\t\n"
@output_buffer.concat "\n"
@output_buffer.concat "*/\t\n"
@output_buffer.concat "\t\tfunction drawChart(){\n"
@output_buffer.concat "\t\t\tvar budget_with_currency = document.getElementById(\"budget\").value;\n"
@output_buffer.concat "\t\t\tvar budget = Number(budget_with_currency.replace(/[^0-9\\.]+/g, \"\"));\n"
@output_buffer.concat "\t\t\tvar balance_with_currency = document.getElementById(\"balance\").value;\n"
@output_buffer.concat "\t\t\tvar balance = Number(balance_with_currency.replace(/[^0-9\\.]+/g, \"\"));\n"
@output_buffer.concat "\t\t\tif (balance > budget) {\n"
@output_buffer.concat "\t\t\t\tbalance = budget;\n"
@output_buffer.concat "\t\t\t\tdocument.getElementById(\"balance\").value = '$' + budget + '.00';\n"
@output_buffer.concat "\t\t\t}\n"
@output_buffer.concat "\t\t\tvar balance_position = (balance / budget) * 100;\n"
@output_buffer.concat "\t\t\tvar tick = ((budget / 40).toFixed(1)) * 10;\n"
@output_buffer.concat "\t\t\tvar background = \"chf=c,lg,90,FFE7C6,0,76A4FB,0.5\"\n"
@output_buffer.concat "\t\t\tvar uri = \"http://chart.apis.google.com/chart?cht=gom&chs=280x100&chf=bg,lg,90,EFEFEF,0,666666,0.75&chxt=y&chd=t:\" + balance_position + \"&chl=Balance&chxr=0,0,\" + budget + \",\" + tick;\n"
@output_buffer.concat "\t\t\tdocument.getElementById(\"chartdiv\").src = uri;\n"
@output_buffer.concat "\t\t}\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\tfunction convertToCurrency(){\n"
@output_buffer.concat "\t\t\tdocument.getElementById(\"budget\").value = '$' + document.getElementById(\"budget\").value;\n"
@output_buffer.concat "\t\t\tdocument.getElementById(\"balance\").value = '$' + document.getElementById(\"balance\").value;\n"
@output_buffer.concat "\t\t}\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t</script>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<img id='chartdiv' class=\"engrave\"/>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t";  form_for :consumer_rule, :url => { :action => :budget_update } do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\t  \t"; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\t<br /><br /><br />\n"
@output_buffer.concat "\t    <span class=\"long item\">Monthly Allowance:</span>\n"
@output_buffer.concat "\t\t<span class=\"value\">"; @output_buffer.concat(( f.text_field(:edited_budget, :onchange => "drawChart()", :id => "budget", :size => 10) ).to_s); @output_buffer.concat "</span>\n"
@output_buffer.concat "\t    <span class=\"long item\" id=\"budget_slider\" onclick=\"modifyBudget()\">shvooooooooooooooooooong</span>\n"
@output_buffer.concat "\t\t<br /><br /><br />\n"
@output_buffer.concat "\t    <span id=\"balance_slider\" onclick=\"modifyBalance()\">Current Balance</span>\n"
@output_buffer.concat "\t\t<span class=\"green_value\">"; @output_buffer.concat(( text_field(:consumer, :edited_balance, :onchange => "drawChart()", :id => "balance", :class => "dollar_amount") ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t</span>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t<span class=\"item\">Rollover to next month</span>\n"
@output_buffer.concat "\t\t<span class=\"toggle\">"; @output_buffer.concat(( f.check_box :rollover ).to_s); @output_buffer.concat "</span>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t   "; @output_buffer.concat(( submit_tag "Submit", :class => "whiteButton submit bottom_submit_tag" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<script type=\"text/javascript\">\n"
@output_buffer.concat "\t\t  drawChart();\n"
@output_buffer.concat "/*\n"
@output_buffer.concat "\t\t  modifyBudget();\n"
@output_buffer.concat "\t\t  modifyBalance();\n"
@output_buffer.concat "\n"
@output_buffer.concat "*/\t\n"
@output_buffer.concat "\t</script>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-4\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-5\">\n"
@output_buffer.concat "<script type=\"text/javascript\">\n"
@output_buffer.concat "\t$(function() {\n"
@output_buffer.concat "\t\tunder = document.getElementById(\"under\").value;\n"
@output_buffer.concat "\t\tover = document.getElementById(\"over\").value;\n"
@output_buffer.concat "\t\tif (under.charAt(0) == '$') {under = under.slice(1)}\n"
@output_buffer.concat "\t\tif (over.charAt(0) == '$') {over = over.slice(1)}\n"
@output_buffer.concat "\t\t$(\"#slider-range\").slider({\n"
@output_buffer.concat "\t\t\trange: true,\n"
@output_buffer.concat "\t\t\tmin: 0,\n"
@output_buffer.concat "\t\t\tmax: 100,\n"
@output_buffer.concat "\t\t\tvalues: [under, over],\n"
@output_buffer.concat "\t\t\tslide: function(event, ui) {\n"
@output_buffer.concat "\t\t\t\t$(\"#under\").val('$' + ui.values[0]);\n"
@output_buffer.concat "\t\t\t\t$(\"#over\").val('$' + ui.values[1]);\n"
@output_buffer.concat "\t\t\t}\n"
@output_buffer.concat "\t\t});\n"
@output_buffer.concat "\t\t$(\"#under\").val('$' + $(\"#slider-range\").slider(\"values\", 0));\n"
@output_buffer.concat "\t\t$(\"#over\").val('$' + $(\"#slider-range\").slider(\"values\", 1));\n"
@output_buffer.concat "\t});\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\tfunction updateSlider() {\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\tunder = document.getElementById(\"under\").value;\n"
@output_buffer.concat "\t\tover = document.getElementById(\"over\").value;\n"
@output_buffer.concat "\t\tif (under.charAt(0) == '$') {under = under.slice(1)}\n"
@output_buffer.concat "\t\tif (over.charAt(0) == '$') {over = over.slice(1)}\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t$(\"#slider-range\").slider(\"values\", 0, under);\n"
@output_buffer.concat "\t\t$(\"#slider-range\").slider(\"values\", 1, over);\t\n"
@output_buffer.concat "\t}\n"
@output_buffer.concat "\n"
@output_buffer.concat "</script>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<ul class=\"blue_bg engrave\">\n"
@output_buffer.concat "\t<ul id=\"slider-range\"></ul>\n"
@output_buffer.concat "</ul>\n"
 form_for :consumer_rule, :url => { :action => :rules_update } do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  \t<ul class=\"thin_lines\" style=\"margin-top:-10px\">\n"
@output_buffer.concat "    \t<li >\n"
@output_buffer.concat "    \t\t<span class=\"item gray small_font\" >Approve any purchase under</span>\n"
@output_buffer.concat "\t\t\t<span class=\"short_value\">\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( f.text_field(:edited_auto_authorize_under, 
					:placeholder => "this amount",  
					:class => "value green",
					:id => "under",
					:onchange => "updateSlider()") ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</span>\n"
@output_buffer.concat "\t\t</li>\n"
@output_buffer.concat "   \t<li>\n"
@output_buffer.concat "    \t\t<span class=\"item gray small_font\" >Unapprove any purchase over</span>\n"
@output_buffer.concat "\t\t\t<span class=\"short_value\">\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( f.text_field(:edited_auto_deny_over, 
				:placeholder => "this amount",  
				:class => "value red",
				:id => "over",
				:onchange => "updateSlider()") ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</span>\n"
@output_buffer.concat "\t\t</li>\n"
@output_buffer.concat "\t</ul>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\n"
@output_buffer.concat "<ul class=\"banner_question_mark\">\n"
@output_buffer.concat "\t\t<span style=\"position:absolute;left:12px;font-size:14px\">If I do need to be involved, reach me by</span>\n"
@output_buffer.concat "\t\t<span>"; @output_buffer.concat(( link_to "shal", "involved_help", :class => "slideup transparent question_mark" ).to_s); @output_buffer.concat " </span>\n"
@output_buffer.concat "</ul>\n"
@output_buffer.concat "\t"; if @payer.phone_alert ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"sms_prefs\" class=\"contact\"><img src=\"/images/iPhone SMS 64.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"/aol/sms_prefs\" class=\"contact\"><img src=\"/images/iPhone SMS 64 bw.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  if @payer.email_alert ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"/aol/email_prefs\" class=\"contact\"><img src=\"/images/iPhone email 64.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"/aol/email_prefs\" class=\"contact\"><img src=\"/images/iPhone email 64 bw.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( image_tag 'Skype 64 bw 1.png', :class => "contact" , :id => "skype" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( image_tag 'aol aim bw.png', :class => "contact", :id => "aim").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  \t"; @output_buffer.concat(( submit_tag "Submit", :class => "whiteButton submit bottom_submit_tag" ).to_s); @output_buffer.concat "\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-6\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\t<div id=\"tabs-7\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:273:in `compile!'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/abstract_store.rb:122:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
C:/InstantRails/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/InstantRails/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:53: syntax error, unexpected kCLASS, expecting ')'
@output_buffer.concat "\t\t\t$('#column1').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\">"; @output_buffer.concat(( escape_javascript(div onclick = "consumer_selected(#{consumer})" class="portlet-header ui-widget-header ui-corner-all") ).to_s); @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div><div class=\"portlet-content\">Lorem ipsum dolor sit amet, consectetuer adipisc
                                                                                                                                                                                                                                        ^
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:53: syntax error, unexpected ')', expecting kEND
@output_buffer.concat "\t\t\t$('#column1').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\">"; @output_buffer.concat(( escape_javascript(div onclick = "consumer_selected(#{consumer})" class="portlet-header ui-widget-header ui-corner-all") ).to_s); @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div><div class=\"portlet-content\">Lorem ipsum dolor sit amet, consectetuer adipisc
                                                                                                                                                                                                                                                                                                 ^) on line #53 of app/views/service/payer_signedin.html.erb:
50: 	<% for consumer in @consumers %>
51: 		<% rem = i % 2 %>
52: 		<% if rem == 1 %>
53: 			$('#column1').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><%= escape_javascript(div onclick = "consumer_selected(#{consumer})" class="portlet-header ui-widget-header ui-corner-all") %><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
54: 		<% else %>
55: 			$('#column2').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
56: 		<% end %>

    app/views/service/payer_signedin.html.erb:273:in `compile!'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 01:17:01) [GET]
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (Attempt to call private method) on line #53 of app/views/service/payer_signedin.html.erb:
50: 	<% for consumer in @consumers %>
51: 		<% rem = i % 2 %>
52: 		<% if rem == 1 %>
53: 			$('#column1').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "consumer_selected(<%= escape_javascript(consumer) %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
54: 		<% else %>
55: 			$('#column2').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
56: 		<% end %>

    app/views/service/payer_signedin.html.erb:53
    app/views/service/payer_signedin.html.erb:50:in `each'
    app/views/service/payer_signedin.html.erb:50

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 01:18:50) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 01:19:58) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 265ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-11 01:20:05) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#index (for 127.0.0.1 at 2010-06-13 21:22:08) [GET]
Rendering template within layouts/service
Rendering service/index
Completed in 1984ms (View: 1984, DB: 0) | 200 OK [http://localhost/service]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-13 21:22:51) [GET]
Rendering template within layouts/service
Rendering service/signin
Completed in 110ms (View: 110, DB: 0) | 200 OK [http://localhost/service/signin]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-13 21:22:58) [POST]
  Parameters: {"user"=>{"name"=>"drorp108", "password"=>"1", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [4;36;1mUser Load (32.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."name" = 'drorp108') LIMIT 1[0m
  [4;35;1mPayer Load (15.0ms)[0m   [0mSELECT * FROM "payers" WHERE ("payers"."id" = 102) [0m
  [4;36;1mPayerRule Load (15.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".payer_id = 102) ORDER BY created_at DESC LIMIT 1[0m
Redirected to http://localhost:3000/service/payer_signedin
Completed in 1547ms (DB: 62) | 302 Found [http://localhost/service/signin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:23:00) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 109, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:27:25) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 79, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:27:56) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 297ms (View: 140, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:28:18) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (15.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:28:28) [GET]
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 110ms (View: 31, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:29:50) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 235ms (View: 63, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:31:08) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:32:44) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:33:36) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 218ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#index (for 127.0.0.1 at 2010-06-13 21:35:21) [GET]
Rendering template within layouts/service
Rendering service/index
Completed in 78ms (View: 78, DB: 0) | 200 OK [http://localhost/service]


Processing ServiceController#signout (for 127.0.0.1 at 2010-06-13 21:35:36) [GET]
Redirected to http://localhost:3000/service
Completed in 62ms (DB: 0) | 302 Found [http://localhost/service/signout]


Processing ServiceController#index (for 127.0.0.1 at 2010-06-13 21:35:36) [GET]
Rendering template within layouts/service
Rendering service/index
Completed in 16ms (View: 0, DB: 0) | 200 OK [http://localhost/service]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-13 21:35:37) [GET]
Rendering template within layouts/service
Rendering service/signin
Completed in 15ms (View: 0, DB: 0) | 200 OK [http://localhost/service/signin]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-13 21:35:43) [POST]
  Parameters: {"user"=>{"name"=>"drorp108", "password"=>"1", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [4;36;1mUser Load (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."name" = 'drorp108') LIMIT 1[0m
  [4;35;1mPayer Load (0.0ms)[0m   [0mSELECT * FROM "payers" WHERE ("payers"."id" = 102) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".payer_id = 102) ORDER BY created_at DESC LIMIT 1[0m
Redirected to http://localhost:3000/service/payer_signedin
Completed in 78ms (DB: 0) | 302 Found [http://localhost/service/signin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:35:43) [GET]
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:36:44) [GET]
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 218ms (View: 31, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-13 21:38:32) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834577"}}
  [4;35;1mConsumer Load (63.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834577') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 250ms (View: 94, DB: 63) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-13 21:38:34) [POST]
  Parameters: {"consumer"=>{"pin"=>""}}
Rendering service/check_pin_and_link_consumer
Completed in 109ms (View: 47, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-13 21:38:39) [POST]
  Parameters: {"consumer"=>{"pin"=>"8237"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-13 18:38:40', '2346834577', 102, '2010-06-13 18:38:40', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (0.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-13 18:38:40', 69.0, 10.0, 149, NULL, 't', '2010-06-13 18:38:40')[0m
Rendering service/check_pin_and_link_consumer
Completed in 453ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:39:16) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:39:27) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 110ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-13 21:39:41) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834578"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834578') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 172ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-13 21:39:43) [POST]
  Parameters: {"consumer"=>{"pin"=>"8237"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-13 21:39:49) [POST]
  Parameters: {"consumer"=>{"pin"=>"4469"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-13 18:39:50', '2346834578', 102, '2010-06-13 18:39:50', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-13 18:39:50', 69.0, 10.0, 150, NULL, 't', '2010-06-13 18:39:50')[0m
Rendering service/check_pin_and_link_consumer
Completed in 500ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:40:13) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:40:20) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (16.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 32) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 21:55:31) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:08:42) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 63, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:09:17) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 62, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:10:21) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
ERROR: compiling _run_erb_app47views47service47payer_signedin46html46erb RAISED compile error
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:54: syntax error, unexpected '='
@output_buffer.concat "\t\t\t$('#column1').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><div onclick = \"consumer_selected("; @output_buffer.concat(( consumer.billing_phone ).to_s); @output_buffer.concat ")\" class=\"portlet-header ui-widget-header ui-corner-all\">"; @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div>"; @output_buffer.concat(( div class="portlet-content" 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ^
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:54: syntax error, unexpected tIDENTIFIER, expecting ')'
@output_buffer.concat "\t\t\t$('#column1').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><div onclick = \"consumer_selected("; @output_buffer.concat(( consumer.billing_phone ).to_s); @output_buffer.concat ")\" class=\"portlet-header ui-widget-header ui-corner-all\">"; @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div>"; @output_buffer.concat(( div class="portlet-content" 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
Function body:           def _run_erb_app47views47service47payer_signedin46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div id=\"tabs\">\n"
@output_buffer.concat "\t<ul>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-1\">Consumers</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-2\">Inbox</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-3\">Allowance</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-4\">Content</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-5\">Rules</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-6\">Information</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-7\">Account</a></li>\n"
@output_buffer.concat "\t</ul>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-1\">\n"
@output_buffer.concat "\t\t<div class=\"left_content\">\n"
@output_buffer.concat "\t\t\t<div class=\"inner_content_title plain_message\">"; @output_buffer.concat(( @message).to_s); @output_buffer.concat "</div>\n"
@output_buffer.concat "\t\t\t<p class=\"inner_content_title\">Who would you like to take care for?</p>\n"
@output_buffer.concat "\t\t\t<div class=\"inner_content_indented\">\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_text\">Define here who gets a one-click shopping experience (provided your rules are met).</p>\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_text\">To add a consumer, key-in his or her phone number and wait for the text message.</p>\n"
@output_buffer.concat "\t\t\t\t<br />\n"
@output_buffer.concat "\t\t\t\t";  form_for(:consumer, :url => {:action => "sms_consumer"}, :html => {:id => "phone_form"}) do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( f.text_field :billing_phone, :size => 20, :placeholder => "Phone number", :class => "formfield" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( submit_tag "Click when done",:class => "fg-button ui-state-default loginbutton ui-corner-all"  ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t<br />\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_text\">Once you got the text message, key-in the PIN code here:</p>  \n"
@output_buffer.concat "\t\t\t\t";  form_for(:consumer, :url => {:action => "check_pin_and_link_consumer"}, :html => {:id => "pin_form"}) do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( f.text_field :pin, :size => 20, :placeholder => "Received PIN", :class => "formfield"  ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( submit_tag "Click when done", :class => "fg-button ui-state-default loginbutton ui-corner-all"  ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</div>\n"
@output_buffer.concat "\t\t</div>\n"
@output_buffer.concat "\t\t<div class=\"right_content\">\n"
@output_buffer.concat "\t\t\t<div class=\"inner_content_title plain_message\"></div>\n"
@output_buffer.concat "\t\t\t";  if @consumers.empty? ; @output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( image_tag "/images/thanks_for_joining5.png", :class => "righthandside_marketial" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_title\" id=\"consumers\">Existing Consumers</p>\n"
@output_buffer.concat "\t\t\t\t<br />\n"
@output_buffer.concat "\t\t\t\t\t<div class=\"column\" id=\"column1\">\n"
@output_buffer.concat "\t\t\t\t\t</div>\n"
@output_buffer.concat "\t\t\t\t\t<div class=\"column\" id=\"column2\">\n"
@output_buffer.concat "\t\t\t\t\t</div>\n"
@output_buffer.concat "\t\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t</div>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<script type=\"text/javascript\">\n"
@output_buffer.concat "\t";  i = 1 ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  if @consumers.size > 6 then @display = 'none' else @display = 'block' end ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  for consumer in @consumers ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  rem = i % 2 ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  if rem == 1 ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t$('#column1').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><div onclick = \"consumer_selected("; @output_buffer.concat(( consumer.billing_phone ).to_s); @output_buffer.concat ")\" class=\"portlet-header ui-widget-header ui-corner-all\">"; @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div>"; @output_buffer.concat(( div class="portlet-content" style="display:#{@display}" ).to_s); @output_buffer.concat "Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');\n"
@output_buffer.concat "\t\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t$('#column2').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><div class=\"portlet-header ui-widget-header ui-corner-all\">"; @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div><div class=\"portlet-content\">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');\n"
@output_buffer.concat "\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  i += 1 ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\tfunction consumer_selected (consumer) {\n"
@output_buffer.concat "\t\talert(consumer);\n"
@output_buffer.concat "\t}\n"
@output_buffer.concat "</script>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-2\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<div id=\"tabs-3\">\n"
@output_buffer.concat "\t<script type=\"text/javascript\">\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "/*\n"
@output_buffer.concat "\t\tfunction modifyBudget () {\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\t\t$(function () {\n"
@output_buffer.concat "\t\t\t  \tvar budget_with_currency = document.getElementById(\"budget\").value;\n"
@output_buffer.concat "\t\t\t\tvar budget = Number(budget_with_currency.replace(/[^0-9\\.]+/g,\"\"));\n"
@output_buffer.concat "\t\t\t\t$(\"#budget_slider\").slider({\n"
@output_buffer.concat "\t\t\t\t\tvalue: budget,\n"
@output_buffer.concat "\t\t\t\t\tmin: 0,\n"
@output_buffer.concat "\t\t\t\t\tmax: 150,\n"
@output_buffer.concat "\t\t\t\t\tslide: function(event, ui) {\n"
@output_buffer.concat "\t\t\t\t\t\t$(\"#budget\").val('$' + ui.value +'.00');\n"
@output_buffer.concat "\t\t\t\t\t}\n"
@output_buffer.concat "\t\t\t\t});\n"
@output_buffer.concat "\t\t\t\t$(\"#budget\").val('$' + $(\"#budget_slider\").slider(\"value\")+'.00');\n"
@output_buffer.concat "\t\t\t\tdrawChart();\n"
@output_buffer.concat "\t\t\t});\n"
@output_buffer.concat "\t\t}\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\tfunction modifyBalance () {\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\t\t$(function () {\n"
@output_buffer.concat "\t\t\t  \tvar balance_with_currency = document.getElementById(\"balance\").value;\n"
@output_buffer.concat "\t\t\t\tvar balance = Number(balance_with_currency.replace(/[^0-9\\.]+/g,\"\"));\n"
@output_buffer.concat "\t\t\t\t$(\"#balance_slider\").slider({\n"
@output_buffer.concat "\t\t\t\t\tvalue: balance,\n"
@output_buffer.concat "\t\t\t\t\tmin: 0,\n"
@output_buffer.concat "\t\t\t\t\tmax: 150,\n"
@output_buffer.concat "\t\t\t\t\tslide: function(event, ui) {\n"
@output_buffer.concat "\t\t\t\t\t\t$(\"#balance\").val('$' + ui.value +'.00');\n"
@output_buffer.concat "\t\t\t\t\t}\n"
@output_buffer.concat "\t\t\t\t});\n"
@output_buffer.concat "\t\t\t\t$(\"#balance\").val('$' + $(\"#balance_slider\").slider(\"value\")+'.00');\n"
@output_buffer.concat "\t\t\t\tdrawChart();\n"
@output_buffer.concat "\t\t\t});\n"
@output_buffer.concat "\t\t}\t\n"
@output_buffer.concat "\n"
@output_buffer.concat "*/\t\n"
@output_buffer.concat "\t\tfunction drawChart(){\n"
@output_buffer.concat "\t\t\tvar budget_with_currency = document.getElementById(\"budget\").value;\n"
@output_buffer.concat "\t\t\tvar budget = Number(budget_with_currency.replace(/[^0-9\\.]+/g, \"\"));\n"
@output_buffer.concat "\t\t\tvar balance_with_currency = document.getElementById(\"balance\").value;\n"
@output_buffer.concat "\t\t\tvar balance = Number(balance_with_currency.replace(/[^0-9\\.]+/g, \"\"));\n"
@output_buffer.concat "\t\t\tif (balance > budget) {\n"
@output_buffer.concat "\t\t\t\tbalance = budget;\n"
@output_buffer.concat "\t\t\t\tdocument.getElementById(\"balance\").value = '$' + budget + '.00';\n"
@output_buffer.concat "\t\t\t}\n"
@output_buffer.concat "\t\t\tvar balance_position = (balance / budget) * 100;\n"
@output_buffer.concat "\t\t\tvar tick = ((budget / 40).toFixed(1)) * 10;\n"
@output_buffer.concat "\t\t\tvar background = \"chf=c,lg,90,FFE7C6,0,76A4FB,0.5\"\n"
@output_buffer.concat "\t\t\tvar uri = \"http://chart.apis.google.com/chart?cht=gom&chs=280x100&chf=bg,lg,90,EFEFEF,0,666666,0.75&chxt=y&chd=t:\" + balance_position + \"&chl=Balance&chxr=0,0,\" + budget + \",\" + tick;\n"
@output_buffer.concat "\t\t\tdocument.getElementById(\"chartdiv\").src = uri;\n"
@output_buffer.concat "\t\t}\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\tfunction convertToCurrency(){\n"
@output_buffer.concat "\t\t\tdocument.getElementById(\"budget\").value = '$' + document.getElementById(\"budget\").value;\n"
@output_buffer.concat "\t\t\tdocument.getElementById(\"balance\").value = '$' + document.getElementById(\"balance\").value;\n"
@output_buffer.concat "\t\t}\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t</script>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<img id='chartdiv' class=\"engrave\"/>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t";  form_for :consumer_rule, :url => { :action => :budget_update } do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\t  \t"; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\t<br /><br /><br />\n"
@output_buffer.concat "\t    <span class=\"long item\">Monthly Allowance:</span>\n"
@output_buffer.concat "\t\t<span class=\"value\">"; @output_buffer.concat(( f.text_field(:edited_budget, :onchange => "drawChart()", :id => "budget", :size => 10) ).to_s); @output_buffer.concat "</span>\n"
@output_buffer.concat "\t    <span class=\"long item\" id=\"budget_slider\" onclick=\"modifyBudget()\">shvooooooooooooooooooong</span>\n"
@output_buffer.concat "\t\t<br /><br /><br />\n"
@output_buffer.concat "\t    <span id=\"balance_slider\" onclick=\"modifyBalance()\">Current Balance</span>\n"
@output_buffer.concat "\t\t<span class=\"green_value\">"; @output_buffer.concat(( text_field(:consumer, :edited_balance, :onchange => "drawChart()", :id => "balance", :class => "dollar_amount") ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t</span>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t<span class=\"item\">Rollover to next month</span>\n"
@output_buffer.concat "\t\t<span class=\"toggle\">"; @output_buffer.concat(( f.check_box :rollover ).to_s); @output_buffer.concat "</span>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t   "; @output_buffer.concat(( submit_tag "Submit", :class => "whiteButton submit bottom_submit_tag" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<script type=\"text/javascript\">\n"
@output_buffer.concat "\t\t  drawChart();\n"
@output_buffer.concat "/*\n"
@output_buffer.concat "\t\t  modifyBudget();\n"
@output_buffer.concat "\t\t  modifyBalance();\n"
@output_buffer.concat "\n"
@output_buffer.concat "*/\t\n"
@output_buffer.concat "\t</script>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-4\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-5\">\n"
@output_buffer.concat "<script type=\"text/javascript\">\n"
@output_buffer.concat "\t$(function() {\n"
@output_buffer.concat "\t\tunder = document.getElementById(\"under\").value;\n"
@output_buffer.concat "\t\tover = document.getElementById(\"over\").value;\n"
@output_buffer.concat "\t\tif (under.charAt(0) == '$') {under = under.slice(1)}\n"
@output_buffer.concat "\t\tif (over.charAt(0) == '$') {over = over.slice(1)}\n"
@output_buffer.concat "\t\t$(\"#slider-range\").slider({\n"
@output_buffer.concat "\t\t\trange: true,\n"
@output_buffer.concat "\t\t\tmin: 0,\n"
@output_buffer.concat "\t\t\tmax: 100,\n"
@output_buffer.concat "\t\t\tvalues: [under, over],\n"
@output_buffer.concat "\t\t\tslide: function(event, ui) {\n"
@output_buffer.concat "\t\t\t\t$(\"#under\").val('$' + ui.values[0]);\n"
@output_buffer.concat "\t\t\t\t$(\"#over\").val('$' + ui.values[1]);\n"
@output_buffer.concat "\t\t\t}\n"
@output_buffer.concat "\t\t});\n"
@output_buffer.concat "\t\t$(\"#under\").val('$' + $(\"#slider-range\").slider(\"values\", 0));\n"
@output_buffer.concat "\t\t$(\"#over\").val('$' + $(\"#slider-range\").slider(\"values\", 1));\n"
@output_buffer.concat "\t});\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\tfunction updateSlider() {\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\tunder = document.getElementById(\"under\").value;\n"
@output_buffer.concat "\t\tover = document.getElementById(\"over\").value;\n"
@output_buffer.concat "\t\tif (under.charAt(0) == '$') {under = under.slice(1)}\n"
@output_buffer.concat "\t\tif (over.charAt(0) == '$') {over = over.slice(1)}\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t$(\"#slider-range\").slider(\"values\", 0, under);\n"
@output_buffer.concat "\t\t$(\"#slider-range\").slider(\"values\", 1, over);\t\n"
@output_buffer.concat "\t}\n"
@output_buffer.concat "\n"
@output_buffer.concat "</script>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<ul class=\"blue_bg engrave\">\n"
@output_buffer.concat "\t<ul id=\"slider-range\"></ul>\n"
@output_buffer.concat "</ul>\n"
 form_for :consumer_rule, :url => { :action => :rules_update } do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  \t<ul class=\"thin_lines\" style=\"margin-top:-10px\">\n"
@output_buffer.concat "    \t<li >\n"
@output_buffer.concat "    \t\t<span class=\"item gray small_font\" >Approve any purchase under</span>\n"
@output_buffer.concat "\t\t\t<span class=\"short_value\">\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( f.text_field(:edited_auto_authorize_under, 
					:placeholder => "this amount",  
					:class => "value green",
					:id => "under",
					:onchange => "updateSlider()") ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</span>\n"
@output_buffer.concat "\t\t</li>\n"
@output_buffer.concat "   \t<li>\n"
@output_buffer.concat "    \t\t<span class=\"item gray small_font\" >Unapprove any purchase over</span>\n"
@output_buffer.concat "\t\t\t<span class=\"short_value\">\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( f.text_field(:edited_auto_deny_over, 
				:placeholder => "this amount",  
				:class => "value red",
				:id => "over",
				:onchange => "updateSlider()") ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</span>\n"
@output_buffer.concat "\t\t</li>\n"
@output_buffer.concat "\t</ul>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\n"
@output_buffer.concat "<ul class=\"banner_question_mark\">\n"
@output_buffer.concat "\t\t<span style=\"position:absolute;left:12px;font-size:14px\">If I do need to be involved, reach me by</span>\n"
@output_buffer.concat "\t\t<span>"; @output_buffer.concat(( link_to "shal", "involved_help", :class => "slideup transparent question_mark" ).to_s); @output_buffer.concat " </span>\n"
@output_buffer.concat "</ul>\n"
@output_buffer.concat "\t"; if @payer.phone_alert ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"sms_prefs\" class=\"contact\"><img src=\"/images/iPhone SMS 64.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"/aol/sms_prefs\" class=\"contact\"><img src=\"/images/iPhone SMS 64 bw.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  if @payer.email_alert ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"/aol/email_prefs\" class=\"contact\"><img src=\"/images/iPhone email 64.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"/aol/email_prefs\" class=\"contact\"><img src=\"/images/iPhone email 64 bw.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( image_tag 'Skype 64 bw 1.png', :class => "contact" , :id => "skype" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( image_tag 'aol aim bw.png', :class => "contact", :id => "aim").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  \t"; @output_buffer.concat(( submit_tag "Submit", :class => "whiteButton submit bottom_submit_tag" ).to_s); @output_buffer.concat "\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-6\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\t<div id=\"tabs-7\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:274:in `compile!'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/abstract_store.rb:122:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
C:/InstantRails/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/InstantRails/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:54: syntax error, unexpected '='
@output_buffer.concat "\t\t\t$('#column1').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><div onclick = \"consumer_selected("; @output_buffer.concat(( consumer.billing_phone ).to_s); @output_buffer.concat ")\" class=\"portlet-header ui-widget-header ui-corner-all\">"; @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div>"; @output_buffer.concat(( div class="portlet-content" 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ^
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:54: syntax error, unexpected tIDENTIFIER, expecting ')'
@output_buffer.concat "\t\t\t$('#column1').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><div onclick = \"consumer_selected("; @output_buffer.concat(( consumer.billing_phone ).to_s); @output_buffer.concat ")\" class=\"portlet-header ui-widget-header ui-corner-all\">"; @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div>"; @output_buffer.concat(( div class="portlet-content" 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               ) on line #54 of app/views/service/payer_signedin.html.erb:
51: 	<% for consumer in @consumers %>
52: 		<% rem = i % 2 %>
53: 		<% if rem == 1 %>
54: 			$('#column1').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "consumer_selected(<%= consumer.billing_phone %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><%= div class="portlet-content" style="display:#{@display}" %>Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
55: 		<% else %>
56: 			$('#column2').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
57: 		<% end %>

    app/views/service/payer_signedin.html.erb:274:in `compile!'

Rendered rescues/_trace (172.0ms)
Rendered rescues/_request_and_response (16.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:13:43) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
ERROR: compiling _run_erb_app47views47service47payer_signedin46html46erb RAISED compile error
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:54: syntax error, unexpected ':', expecting ')'
@output_buffer.concat "\t\t\t$('#column1').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><div onclick = \"consumer_selected("; @output_buffer.concat(( consumer.billing_phone ).to_s); @output_buffer.concat ")\" class=\"portlet-header ui-widget-header ui-corner-all\">"; @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div>"; @output_buffer.concat(( div :class => "portlet-conte
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
Function body:           def _run_erb_app47views47service47payer_signedin46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div id=\"tabs\">\n"
@output_buffer.concat "\t<ul>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-1\">Consumers</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-2\">Inbox</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-3\">Allowance</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-4\">Content</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-5\">Rules</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-6\">Information</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-7\">Account</a></li>\n"
@output_buffer.concat "\t</ul>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-1\">\n"
@output_buffer.concat "\t\t<div class=\"left_content\">\n"
@output_buffer.concat "\t\t\t<div class=\"inner_content_title plain_message\">"; @output_buffer.concat(( @message).to_s); @output_buffer.concat "</div>\n"
@output_buffer.concat "\t\t\t<p class=\"inner_content_title\">Who would you like to take care for?</p>\n"
@output_buffer.concat "\t\t\t<div class=\"inner_content_indented\">\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_text\">Define here who gets a one-click shopping experience (provided your rules are met).</p>\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_text\">To add a consumer, key-in his or her phone number and wait for the text message.</p>\n"
@output_buffer.concat "\t\t\t\t<br />\n"
@output_buffer.concat "\t\t\t\t";  form_for(:consumer, :url => {:action => "sms_consumer"}, :html => {:id => "phone_form"}) do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( f.text_field :billing_phone, :size => 20, :placeholder => "Phone number", :class => "formfield" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( submit_tag "Click when done",:class => "fg-button ui-state-default loginbutton ui-corner-all"  ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t<br />\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_text\">Once you got the text message, key-in the PIN code here:</p>  \n"
@output_buffer.concat "\t\t\t\t";  form_for(:consumer, :url => {:action => "check_pin_and_link_consumer"}, :html => {:id => "pin_form"}) do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( f.text_field :pin, :size => 20, :placeholder => "Received PIN", :class => "formfield"  ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( submit_tag "Click when done", :class => "fg-button ui-state-default loginbutton ui-corner-all"  ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</div>\n"
@output_buffer.concat "\t\t</div>\n"
@output_buffer.concat "\t\t<div class=\"right_content\">\n"
@output_buffer.concat "\t\t\t<div class=\"inner_content_title plain_message\"></div>\n"
@output_buffer.concat "\t\t\t";  if @consumers.empty? ; @output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( image_tag "/images/thanks_for_joining5.png", :class => "righthandside_marketial" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_title\" id=\"consumers\">Existing Consumers</p>\n"
@output_buffer.concat "\t\t\t\t<br />\n"
@output_buffer.concat "\t\t\t\t\t<div class=\"column\" id=\"column1\">\n"
@output_buffer.concat "\t\t\t\t\t</div>\n"
@output_buffer.concat "\t\t\t\t\t<div class=\"column\" id=\"column2\">\n"
@output_buffer.concat "\t\t\t\t\t</div>\n"
@output_buffer.concat "\t\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t</div>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<script type=\"text/javascript\">\n"
@output_buffer.concat "\t";  i = 1 ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  if @consumers.size > 6 then @display = 'none' else @display = 'block' end ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  for consumer in @consumers ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  rem = i % 2 ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  if rem == 1 ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t$('#column1').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><div onclick = \"consumer_selected("; @output_buffer.concat(( consumer.billing_phone ).to_s); @output_buffer.concat ")\" class=\"portlet-header ui-widget-header ui-corner-all\">"; @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div>"; @output_buffer.concat(( div :class => "portlet-content" :style => "display:#{@display}" ).to_s); @output_buffer.concat "Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');\n"
@output_buffer.concat "\t\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t$('#column2').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><div class=\"portlet-header ui-widget-header ui-corner-all\">"; @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div><div class=\"portlet-content\">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');\n"
@output_buffer.concat "\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  i += 1 ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\tfunction consumer_selected (consumer) {\n"
@output_buffer.concat "\t\talert(consumer);\n"
@output_buffer.concat "\t}\n"
@output_buffer.concat "</script>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-2\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<div id=\"tabs-3\">\n"
@output_buffer.concat "\t<script type=\"text/javascript\">\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "/*\n"
@output_buffer.concat "\t\tfunction modifyBudget () {\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\t\t$(function () {\n"
@output_buffer.concat "\t\t\t  \tvar budget_with_currency = document.getElementById(\"budget\").value;\n"
@output_buffer.concat "\t\t\t\tvar budget = Number(budget_with_currency.replace(/[^0-9\\.]+/g,\"\"));\n"
@output_buffer.concat "\t\t\t\t$(\"#budget_slider\").slider({\n"
@output_buffer.concat "\t\t\t\t\tvalue: budget,\n"
@output_buffer.concat "\t\t\t\t\tmin: 0,\n"
@output_buffer.concat "\t\t\t\t\tmax: 150,\n"
@output_buffer.concat "\t\t\t\t\tslide: function(event, ui) {\n"
@output_buffer.concat "\t\t\t\t\t\t$(\"#budget\").val('$' + ui.value +'.00');\n"
@output_buffer.concat "\t\t\t\t\t}\n"
@output_buffer.concat "\t\t\t\t});\n"
@output_buffer.concat "\t\t\t\t$(\"#budget\").val('$' + $(\"#budget_slider\").slider(\"value\")+'.00');\n"
@output_buffer.concat "\t\t\t\tdrawChart();\n"
@output_buffer.concat "\t\t\t});\n"
@output_buffer.concat "\t\t}\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\tfunction modifyBalance () {\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\t\t$(function () {\n"
@output_buffer.concat "\t\t\t  \tvar balance_with_currency = document.getElementById(\"balance\").value;\n"
@output_buffer.concat "\t\t\t\tvar balance = Number(balance_with_currency.replace(/[^0-9\\.]+/g,\"\"));\n"
@output_buffer.concat "\t\t\t\t$(\"#balance_slider\").slider({\n"
@output_buffer.concat "\t\t\t\t\tvalue: balance,\n"
@output_buffer.concat "\t\t\t\t\tmin: 0,\n"
@output_buffer.concat "\t\t\t\t\tmax: 150,\n"
@output_buffer.concat "\t\t\t\t\tslide: function(event, ui) {\n"
@output_buffer.concat "\t\t\t\t\t\t$(\"#balance\").val('$' + ui.value +'.00');\n"
@output_buffer.concat "\t\t\t\t\t}\n"
@output_buffer.concat "\t\t\t\t});\n"
@output_buffer.concat "\t\t\t\t$(\"#balance\").val('$' + $(\"#balance_slider\").slider(\"value\")+'.00');\n"
@output_buffer.concat "\t\t\t\tdrawChart();\n"
@output_buffer.concat "\t\t\t});\n"
@output_buffer.concat "\t\t}\t\n"
@output_buffer.concat "\n"
@output_buffer.concat "*/\t\n"
@output_buffer.concat "\t\tfunction drawChart(){\n"
@output_buffer.concat "\t\t\tvar budget_with_currency = document.getElementById(\"budget\").value;\n"
@output_buffer.concat "\t\t\tvar budget = Number(budget_with_currency.replace(/[^0-9\\.]+/g, \"\"));\n"
@output_buffer.concat "\t\t\tvar balance_with_currency = document.getElementById(\"balance\").value;\n"
@output_buffer.concat "\t\t\tvar balance = Number(balance_with_currency.replace(/[^0-9\\.]+/g, \"\"));\n"
@output_buffer.concat "\t\t\tif (balance > budget) {\n"
@output_buffer.concat "\t\t\t\tbalance = budget;\n"
@output_buffer.concat "\t\t\t\tdocument.getElementById(\"balance\").value = '$' + budget + '.00';\n"
@output_buffer.concat "\t\t\t}\n"
@output_buffer.concat "\t\t\tvar balance_position = (balance / budget) * 100;\n"
@output_buffer.concat "\t\t\tvar tick = ((budget / 40).toFixed(1)) * 10;\n"
@output_buffer.concat "\t\t\tvar background = \"chf=c,lg,90,FFE7C6,0,76A4FB,0.5\"\n"
@output_buffer.concat "\t\t\tvar uri = \"http://chart.apis.google.com/chart?cht=gom&chs=280x100&chf=bg,lg,90,EFEFEF,0,666666,0.75&chxt=y&chd=t:\" + balance_position + \"&chl=Balance&chxr=0,0,\" + budget + \",\" + tick;\n"
@output_buffer.concat "\t\t\tdocument.getElementById(\"chartdiv\").src = uri;\n"
@output_buffer.concat "\t\t}\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\tfunction convertToCurrency(){\n"
@output_buffer.concat "\t\t\tdocument.getElementById(\"budget\").value = '$' + document.getElementById(\"budget\").value;\n"
@output_buffer.concat "\t\t\tdocument.getElementById(\"balance\").value = '$' + document.getElementById(\"balance\").value;\n"
@output_buffer.concat "\t\t}\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t</script>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<img id='chartdiv' class=\"engrave\"/>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t";  form_for :consumer_rule, :url => { :action => :budget_update } do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\t  \t"; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\t<br /><br /><br />\n"
@output_buffer.concat "\t    <span class=\"long item\">Monthly Allowance:</span>\n"
@output_buffer.concat "\t\t<span class=\"value\">"; @output_buffer.concat(( f.text_field(:edited_budget, :onchange => "drawChart()", :id => "budget", :size => 10) ).to_s); @output_buffer.concat "</span>\n"
@output_buffer.concat "\t    <span class=\"long item\" id=\"budget_slider\" onclick=\"modifyBudget()\">shvooooooooooooooooooong</span>\n"
@output_buffer.concat "\t\t<br /><br /><br />\n"
@output_buffer.concat "\t    <span id=\"balance_slider\" onclick=\"modifyBalance()\">Current Balance</span>\n"
@output_buffer.concat "\t\t<span class=\"green_value\">"; @output_buffer.concat(( text_field(:consumer, :edited_balance, :onchange => "drawChart()", :id => "balance", :class => "dollar_amount") ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t</span>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t<span class=\"item\">Rollover to next month</span>\n"
@output_buffer.concat "\t\t<span class=\"toggle\">"; @output_buffer.concat(( f.check_box :rollover ).to_s); @output_buffer.concat "</span>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t   "; @output_buffer.concat(( submit_tag "Submit", :class => "whiteButton submit bottom_submit_tag" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<script type=\"text/javascript\">\n"
@output_buffer.concat "\t\t  drawChart();\n"
@output_buffer.concat "/*\n"
@output_buffer.concat "\t\t  modifyBudget();\n"
@output_buffer.concat "\t\t  modifyBalance();\n"
@output_buffer.concat "\n"
@output_buffer.concat "*/\t\n"
@output_buffer.concat "\t</script>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-4\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-5\">\n"
@output_buffer.concat "<script type=\"text/javascript\">\n"
@output_buffer.concat "\t$(function() {\n"
@output_buffer.concat "\t\tunder = document.getElementById(\"under\").value;\n"
@output_buffer.concat "\t\tover = document.getElementById(\"over\").value;\n"
@output_buffer.concat "\t\tif (under.charAt(0) == '$') {under = under.slice(1)}\n"
@output_buffer.concat "\t\tif (over.charAt(0) == '$') {over = over.slice(1)}\n"
@output_buffer.concat "\t\t$(\"#slider-range\").slider({\n"
@output_buffer.concat "\t\t\trange: true,\n"
@output_buffer.concat "\t\t\tmin: 0,\n"
@output_buffer.concat "\t\t\tmax: 100,\n"
@output_buffer.concat "\t\t\tvalues: [under, over],\n"
@output_buffer.concat "\t\t\tslide: function(event, ui) {\n"
@output_buffer.concat "\t\t\t\t$(\"#under\").val('$' + ui.values[0]);\n"
@output_buffer.concat "\t\t\t\t$(\"#over\").val('$' + ui.values[1]);\n"
@output_buffer.concat "\t\t\t}\n"
@output_buffer.concat "\t\t});\n"
@output_buffer.concat "\t\t$(\"#under\").val('$' + $(\"#slider-range\").slider(\"values\", 0));\n"
@output_buffer.concat "\t\t$(\"#over\").val('$' + $(\"#slider-range\").slider(\"values\", 1));\n"
@output_buffer.concat "\t});\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\tfunction updateSlider() {\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\tunder = document.getElementById(\"under\").value;\n"
@output_buffer.concat "\t\tover = document.getElementById(\"over\").value;\n"
@output_buffer.concat "\t\tif (under.charAt(0) == '$') {under = under.slice(1)}\n"
@output_buffer.concat "\t\tif (over.charAt(0) == '$') {over = over.slice(1)}\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t$(\"#slider-range\").slider(\"values\", 0, under);\n"
@output_buffer.concat "\t\t$(\"#slider-range\").slider(\"values\", 1, over);\t\n"
@output_buffer.concat "\t}\n"
@output_buffer.concat "\n"
@output_buffer.concat "</script>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<ul class=\"blue_bg engrave\">\n"
@output_buffer.concat "\t<ul id=\"slider-range\"></ul>\n"
@output_buffer.concat "</ul>\n"
 form_for :consumer_rule, :url => { :action => :rules_update } do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  \t<ul class=\"thin_lines\" style=\"margin-top:-10px\">\n"
@output_buffer.concat "    \t<li >\n"
@output_buffer.concat "    \t\t<span class=\"item gray small_font\" >Approve any purchase under</span>\n"
@output_buffer.concat "\t\t\t<span class=\"short_value\">\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( f.text_field(:edited_auto_authorize_under, 
					:placeholder => "this amount",  
					:class => "value green",
					:id => "under",
					:onchange => "updateSlider()") ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</span>\n"
@output_buffer.concat "\t\t</li>\n"
@output_buffer.concat "   \t<li>\n"
@output_buffer.concat "    \t\t<span class=\"item gray small_font\" >Unapprove any purchase over</span>\n"
@output_buffer.concat "\t\t\t<span class=\"short_value\">\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( f.text_field(:edited_auto_deny_over, 
				:placeholder => "this amount",  
				:class => "value red",
				:id => "over",
				:onchange => "updateSlider()") ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</span>\n"
@output_buffer.concat "\t\t</li>\n"
@output_buffer.concat "\t</ul>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\n"
@output_buffer.concat "<ul class=\"banner_question_mark\">\n"
@output_buffer.concat "\t\t<span style=\"position:absolute;left:12px;font-size:14px\">If I do need to be involved, reach me by</span>\n"
@output_buffer.concat "\t\t<span>"; @output_buffer.concat(( link_to "shal", "involved_help", :class => "slideup transparent question_mark" ).to_s); @output_buffer.concat " </span>\n"
@output_buffer.concat "</ul>\n"
@output_buffer.concat "\t"; if @payer.phone_alert ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"sms_prefs\" class=\"contact\"><img src=\"/images/iPhone SMS 64.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"/aol/sms_prefs\" class=\"contact\"><img src=\"/images/iPhone SMS 64 bw.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  if @payer.email_alert ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"/aol/email_prefs\" class=\"contact\"><img src=\"/images/iPhone email 64.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"/aol/email_prefs\" class=\"contact\"><img src=\"/images/iPhone email 64 bw.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( image_tag 'Skype 64 bw 1.png', :class => "contact" , :id => "skype" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( image_tag 'aol aim bw.png', :class => "contact", :id => "aim").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  \t"; @output_buffer.concat(( submit_tag "Submit", :class => "whiteButton submit bottom_submit_tag" ).to_s); @output_buffer.concat "\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-6\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\t<div id=\"tabs-7\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:274:in `compile!'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/abstract_store.rb:122:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
C:/InstantRails/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/InstantRails/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:54: syntax error, unexpected ':', expecting ')'
@output_buffer.concat "\t\t\t$('#column1').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><div onclick = \"consumer_selected("; @output_buffer.concat(( consumer.billing_phone ).to_s); @output_buffer.concat ")\" class=\"portlet-header ui-widget-header ui-corner-all\">"; @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div>"; @output_buffer.concat(( div :class => "portlet-conte
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               ) on line #54 of app/views/service/payer_signedin.html.erb:
51: 	<% for consumer in @consumers %>
52: 		<% rem = i % 2 %>
53: 		<% if rem == 1 %>
54: 			$('#column1').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "consumer_selected(<%= consumer.billing_phone %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><%= div :class => "portlet-content" :style => "display:#{@display}" %>Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
55: 		<% else %>
56: 			$('#column2').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
57: 		<% end %>

    app/views/service/payer_signedin.html.erb:274:in `compile!'

Rendered rescues/_trace (234.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:14:23) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (undefined method `div' for #<ActionView::Base:0x45d0bfc>) on line #54 of app/views/service/payer_signedin.html.erb:
51: 	<% for consumer in @consumers %>
52: 		<% rem = i % 2 %>
53: 		<% if rem == 1 %>
54: 			$('#column1').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "consumer_selected(<%= consumer.billing_phone %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><%= div :class => "portlet-content", :style => "display:#{@display}" %>Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
55: 		<% else %>
56: 			$('#column2').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
57: 		<% end %>

    app/views/service/payer_signedin.html.erb:54
    app/views/service/payer_signedin.html.erb:51:in `each'
    app/views/service/payer_signedin.html.erb:51

Rendered rescues/_trace (93.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:15:35) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
ERROR: compiling _run_erb_app47views47service47payer_signedin46html46erb RAISED compile error
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:55: syntax error, unexpected kELSE, expecting ')'
@output_buffer.concat "\t\t";  else ; @output_buffer.concat "\n"
                                   ^
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:57: syntax error, unexpected kEND, expecting ')'
@output_buffer.concat "\t\t";  end ; @output_buffer.concat "\n"
                                  ^
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:59: syntax error, unexpected kEND, expecting ')'
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
                                ^
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:272: syntax error, unexpected kENSURE, expecting ')'
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:274: syntax error, unexpected kEND, expecting ')'
Function body:           def _run_erb_app47views47service47payer_signedin46html46erb(local_assigns)
            old_output_buffer = output_buffer;;@output_buffer = '';  __in_erb_template=true ; @output_buffer.concat "<div id=\"tabs\">\n"
@output_buffer.concat "\t<ul>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-1\">Consumers</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-2\">Inbox</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-3\">Allowance</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-4\">Content</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-5\">Rules</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-6\">Information</a></li>\n"
@output_buffer.concat "\t\t<li><a href=\"#tabs-7\">Account</a></li>\n"
@output_buffer.concat "\t</ul>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-1\">\n"
@output_buffer.concat "\t\t<div class=\"left_content\">\n"
@output_buffer.concat "\t\t\t<div class=\"inner_content_title plain_message\">"; @output_buffer.concat(( @message).to_s); @output_buffer.concat "</div>\n"
@output_buffer.concat "\t\t\t<p class=\"inner_content_title\">Who would you like to take care for?</p>\n"
@output_buffer.concat "\t\t\t<div class=\"inner_content_indented\">\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_text\">Define here who gets a one-click shopping experience (provided your rules are met).</p>\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_text\">To add a consumer, key-in his or her phone number and wait for the text message.</p>\n"
@output_buffer.concat "\t\t\t\t<br />\n"
@output_buffer.concat "\t\t\t\t";  form_for(:consumer, :url => {:action => "sms_consumer"}, :html => {:id => "phone_form"}) do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( f.text_field :billing_phone, :size => 20, :placeholder => "Phone number", :class => "formfield" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( submit_tag "Click when done",:class => "fg-button ui-state-default loginbutton ui-corner-all"  ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t<br />\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_text\">Once you got the text message, key-in the PIN code here:</p>  \n"
@output_buffer.concat "\t\t\t\t";  form_for(:consumer, :url => {:action => "check_pin_and_link_consumer"}, :html => {:id => "pin_form"}) do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( f.text_field :pin, :size => 20, :placeholder => "Received PIN", :class => "formfield"  ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t\t"; @output_buffer.concat(( submit_tag "Click when done", :class => "fg-button ui-state-default loginbutton ui-corner-all"  ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</div>\n"
@output_buffer.concat "\t\t</div>\n"
@output_buffer.concat "\t\t<div class=\"right_content\">\n"
@output_buffer.concat "\t\t\t<div class=\"inner_content_title plain_message\"></div>\n"
@output_buffer.concat "\t\t\t";  if @consumers.empty? ; @output_buffer.concat "\t\t\t\t\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( image_tag "/images/thanks_for_joining5.png", :class => "righthandside_marketial" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t\t<p class=\"inner_content_title\" id=\"consumers\">Existing Consumers</p>\n"
@output_buffer.concat "\t\t\t\t<br />\n"
@output_buffer.concat "\t\t\t\t\t<div class=\"column\" id=\"column1\">\n"
@output_buffer.concat "\t\t\t\t\t</div>\n"
@output_buffer.concat "\t\t\t\t\t<div class=\"column\" id=\"column2\">\n"
@output_buffer.concat "\t\t\t\t\t</div>\n"
@output_buffer.concat "\t\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t</div>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<script type=\"text/javascript\">\n"
@output_buffer.concat "\t";  i = 1 ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  if @consumers.size > 6 then @display = 'none' else @display = 'block' end ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  for consumer in @consumers ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  rem = i % 2 ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  if rem == 1 ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t$('#column1').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><div onclick = \"consumer_selected("; @output_buffer.concat(( consumer.billing_phone ).to_s); @output_buffer.concat ")\" class=\"portlet-header ui-widget-header ui-corner-all\">"; @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div><div class=\"portlet-content\" style=\"display:"; @output_buffer.concat((#{@display}).to_s); @output_buffer.concat "\" %>Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');\n"
@output_buffer.concat "\t\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t$('#column2').append('<div class=\"portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"><div class=\"portlet-header ui-widget-header ui-corner-all\">"; @output_buffer.concat(( escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) ).to_s); @output_buffer.concat "</div><div class=\"portlet-content\">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');\n"
@output_buffer.concat "\t\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t";  i += 1 ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\tfunction consumer_selected (consumer) {\n"
@output_buffer.concat "\t\talert(consumer);\n"
@output_buffer.concat "\t}\n"
@output_buffer.concat "</script>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-2\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "<div id=\"tabs-3\">\n"
@output_buffer.concat "\t<script type=\"text/javascript\">\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "/*\n"
@output_buffer.concat "\t\tfunction modifyBudget () {\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\t\t$(function () {\n"
@output_buffer.concat "\t\t\t  \tvar budget_with_currency = document.getElementById(\"budget\").value;\n"
@output_buffer.concat "\t\t\t\tvar budget = Number(budget_with_currency.replace(/[^0-9\\.]+/g,\"\"));\n"
@output_buffer.concat "\t\t\t\t$(\"#budget_slider\").slider({\n"
@output_buffer.concat "\t\t\t\t\tvalue: budget,\n"
@output_buffer.concat "\t\t\t\t\tmin: 0,\n"
@output_buffer.concat "\t\t\t\t\tmax: 150,\n"
@output_buffer.concat "\t\t\t\t\tslide: function(event, ui) {\n"
@output_buffer.concat "\t\t\t\t\t\t$(\"#budget\").val('$' + ui.value +'.00');\n"
@output_buffer.concat "\t\t\t\t\t}\n"
@output_buffer.concat "\t\t\t\t});\n"
@output_buffer.concat "\t\t\t\t$(\"#budget\").val('$' + $(\"#budget_slider\").slider(\"value\")+'.00');\n"
@output_buffer.concat "\t\t\t\tdrawChart();\n"
@output_buffer.concat "\t\t\t});\n"
@output_buffer.concat "\t\t}\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\tfunction modifyBalance () {\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\t\t$(function () {\n"
@output_buffer.concat "\t\t\t  \tvar balance_with_currency = document.getElementById(\"balance\").value;\n"
@output_buffer.concat "\t\t\t\tvar balance = Number(balance_with_currency.replace(/[^0-9\\.]+/g,\"\"));\n"
@output_buffer.concat "\t\t\t\t$(\"#balance_slider\").slider({\n"
@output_buffer.concat "\t\t\t\t\tvalue: balance,\n"
@output_buffer.concat "\t\t\t\t\tmin: 0,\n"
@output_buffer.concat "\t\t\t\t\tmax: 150,\n"
@output_buffer.concat "\t\t\t\t\tslide: function(event, ui) {\n"
@output_buffer.concat "\t\t\t\t\t\t$(\"#balance\").val('$' + ui.value +'.00');\n"
@output_buffer.concat "\t\t\t\t\t}\n"
@output_buffer.concat "\t\t\t\t});\n"
@output_buffer.concat "\t\t\t\t$(\"#balance\").val('$' + $(\"#balance_slider\").slider(\"value\")+'.00');\n"
@output_buffer.concat "\t\t\t\tdrawChart();\n"
@output_buffer.concat "\t\t\t});\n"
@output_buffer.concat "\t\t}\t\n"
@output_buffer.concat "\n"
@output_buffer.concat "*/\t\n"
@output_buffer.concat "\t\tfunction drawChart(){\n"
@output_buffer.concat "\t\t\tvar budget_with_currency = document.getElementById(\"budget\").value;\n"
@output_buffer.concat "\t\t\tvar budget = Number(budget_with_currency.replace(/[^0-9\\.]+/g, \"\"));\n"
@output_buffer.concat "\t\t\tvar balance_with_currency = document.getElementById(\"balance\").value;\n"
@output_buffer.concat "\t\t\tvar balance = Number(balance_with_currency.replace(/[^0-9\\.]+/g, \"\"));\n"
@output_buffer.concat "\t\t\tif (balance > budget) {\n"
@output_buffer.concat "\t\t\t\tbalance = budget;\n"
@output_buffer.concat "\t\t\t\tdocument.getElementById(\"balance\").value = '$' + budget + '.00';\n"
@output_buffer.concat "\t\t\t}\n"
@output_buffer.concat "\t\t\tvar balance_position = (balance / budget) * 100;\n"
@output_buffer.concat "\t\t\tvar tick = ((budget / 40).toFixed(1)) * 10;\n"
@output_buffer.concat "\t\t\tvar background = \"chf=c,lg,90,FFE7C6,0,76A4FB,0.5\"\n"
@output_buffer.concat "\t\t\tvar uri = \"http://chart.apis.google.com/chart?cht=gom&chs=280x100&chf=bg,lg,90,EFEFEF,0,666666,0.75&chxt=y&chd=t:\" + balance_position + \"&chl=Balance&chxr=0,0,\" + budget + \",\" + tick;\n"
@output_buffer.concat "\t\t\tdocument.getElementById(\"chartdiv\").src = uri;\n"
@output_buffer.concat "\t\t}\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\tfunction convertToCurrency(){\n"
@output_buffer.concat "\t\t\tdocument.getElementById(\"budget\").value = '$' + document.getElementById(\"budget\").value;\n"
@output_buffer.concat "\t\t\tdocument.getElementById(\"balance\").value = '$' + document.getElementById(\"balance\").value;\n"
@output_buffer.concat "\t\t}\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t</script>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<img id='chartdiv' class=\"engrave\"/>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t";  form_for :consumer_rule, :url => { :action => :budget_update } do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\t  \t"; @output_buffer.concat(( f.error_messages ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t\t<br /><br /><br />\n"
@output_buffer.concat "\t    <span class=\"long item\">Monthly Allowance:</span>\n"
@output_buffer.concat "\t\t<span class=\"value\">"; @output_buffer.concat(( f.text_field(:edited_budget, :onchange => "drawChart()", :id => "budget", :size => 10) ).to_s); @output_buffer.concat "</span>\n"
@output_buffer.concat "\t    <span class=\"long item\" id=\"budget_slider\" onclick=\"modifyBudget()\">shvooooooooooooooooooong</span>\n"
@output_buffer.concat "\t\t<br /><br /><br />\n"
@output_buffer.concat "\t    <span id=\"balance_slider\" onclick=\"modifyBalance()\">Current Balance</span>\n"
@output_buffer.concat "\t\t<span class=\"green_value\">"; @output_buffer.concat(( text_field(:consumer, :edited_balance, :onchange => "drawChart()", :id => "balance", :class => "dollar_amount") ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t</span>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t<span class=\"item\">Rollover to next month</span>\n"
@output_buffer.concat "\t\t<span class=\"toggle\">"; @output_buffer.concat(( f.check_box :rollover ).to_s); @output_buffer.concat "</span>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t   "; @output_buffer.concat(( submit_tag "Submit", :class => "whiteButton submit bottom_submit_tag" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<script type=\"text/javascript\">\n"
@output_buffer.concat "\t\t  drawChart();\n"
@output_buffer.concat "/*\n"
@output_buffer.concat "\t\t  modifyBudget();\n"
@output_buffer.concat "\t\t  modifyBalance();\n"
@output_buffer.concat "\n"
@output_buffer.concat "*/\t\n"
@output_buffer.concat "\t</script>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-4\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-5\">\n"
@output_buffer.concat "<script type=\"text/javascript\">\n"
@output_buffer.concat "\t$(function() {\n"
@output_buffer.concat "\t\tunder = document.getElementById(\"under\").value;\n"
@output_buffer.concat "\t\tover = document.getElementById(\"over\").value;\n"
@output_buffer.concat "\t\tif (under.charAt(0) == '$') {under = under.slice(1)}\n"
@output_buffer.concat "\t\tif (over.charAt(0) == '$') {over = over.slice(1)}\n"
@output_buffer.concat "\t\t$(\"#slider-range\").slider({\n"
@output_buffer.concat "\t\t\trange: true,\n"
@output_buffer.concat "\t\t\tmin: 0,\n"
@output_buffer.concat "\t\t\tmax: 100,\n"
@output_buffer.concat "\t\t\tvalues: [under, over],\n"
@output_buffer.concat "\t\t\tslide: function(event, ui) {\n"
@output_buffer.concat "\t\t\t\t$(\"#under\").val('$' + ui.values[0]);\n"
@output_buffer.concat "\t\t\t\t$(\"#over\").val('$' + ui.values[1]);\n"
@output_buffer.concat "\t\t\t}\n"
@output_buffer.concat "\t\t});\n"
@output_buffer.concat "\t\t$(\"#under\").val('$' + $(\"#slider-range\").slider(\"values\", 0));\n"
@output_buffer.concat "\t\t$(\"#over\").val('$' + $(\"#slider-range\").slider(\"values\", 1));\n"
@output_buffer.concat "\t});\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\tfunction updateSlider() {\n"
@output_buffer.concat "\t\t\n"
@output_buffer.concat "\t\tunder = document.getElementById(\"under\").value;\n"
@output_buffer.concat "\t\tover = document.getElementById(\"over\").value;\n"
@output_buffer.concat "\t\tif (under.charAt(0) == '$') {under = under.slice(1)}\n"
@output_buffer.concat "\t\tif (over.charAt(0) == '$') {over = over.slice(1)}\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\t$(\"#slider-range\").slider(\"values\", 0, under);\n"
@output_buffer.concat "\t\t$(\"#slider-range\").slider(\"values\", 1, over);\t\n"
@output_buffer.concat "\t}\n"
@output_buffer.concat "\n"
@output_buffer.concat "</script>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "<ul class=\"blue_bg engrave\">\n"
@output_buffer.concat "\t<ul id=\"slider-range\"></ul>\n"
@output_buffer.concat "</ul>\n"
 form_for :consumer_rule, :url => { :action => :rules_update } do |f| ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  \t<ul class=\"thin_lines\" style=\"margin-top:-10px\">\n"
@output_buffer.concat "    \t<li >\n"
@output_buffer.concat "    \t\t<span class=\"item gray small_font\" >Approve any purchase under</span>\n"
@output_buffer.concat "\t\t\t<span class=\"short_value\">\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( f.text_field(:edited_auto_authorize_under, 
					:placeholder => "this amount",  
					:class => "value green",
					:id => "under",
					:onchange => "updateSlider()") ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</span>\n"
@output_buffer.concat "\t\t</li>\n"
@output_buffer.concat "   \t<li>\n"
@output_buffer.concat "    \t\t<span class=\"item gray small_font\" >Unapprove any purchase over</span>\n"
@output_buffer.concat "\t\t\t<span class=\"short_value\">\n"
@output_buffer.concat "\t\t\t\t"; @output_buffer.concat(( f.text_field(:edited_auto_deny_over, 
				:placeholder => "this amount",  
				:class => "value red",
				:id => "over",
				:onchange => "updateSlider()") ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t\t</span>\n"
@output_buffer.concat "\t\t</li>\n"
@output_buffer.concat "\t</ul>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "\n"
@output_buffer.concat "<ul class=\"banner_question_mark\">\n"
@output_buffer.concat "\t\t<span style=\"position:absolute;left:12px;font-size:14px\">If I do need to be involved, reach me by</span>\n"
@output_buffer.concat "\t\t<span>"; @output_buffer.concat(( link_to "shal", "involved_help", :class => "slideup transparent question_mark" ).to_s); @output_buffer.concat " </span>\n"
@output_buffer.concat "</ul>\n"
@output_buffer.concat "\t"; if @payer.phone_alert ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"sms_prefs\" class=\"contact\"><img src=\"/images/iPhone SMS 64.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"/aol/sms_prefs\" class=\"contact\"><img src=\"/images/iPhone SMS 64 bw.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t";  if @payer.email_alert ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"/aol/email_prefs\" class=\"contact\"><img src=\"/images/iPhone email 64.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  else ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t<a href=\"/aol/email_prefs\" class=\"contact\"><img src=\"/images/iPhone email 64 bw.png\" border=\"0\"></a> \n"
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( image_tag 'Skype 64 bw 1.png', :class => "contact" , :id => "skype" ).to_s); @output_buffer.concat "\n"
@output_buffer.concat "\t\t"; @output_buffer.concat(( image_tag 'aol aim bw.png', :class => "contact", :id => "aim").to_s); @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "  \t"; @output_buffer.concat(( submit_tag "Submit", :class => "whiteButton submit bottom_submit_tag" ).to_s); @output_buffer.concat "\n"
 end ; @output_buffer.concat "\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\n"
@output_buffer.concat "\t<div id=\"tabs-6\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\t<div id=\"tabs-7\">\n"
@output_buffer.concat "\t\t<p>Proin elit arcu, rutrum commodo, vehicula tempus, commodo a, risus. Curabitur nec arcu. Donec sollicitudin mi sit amet mauris. Nam elementum quam ullamcorper ante. Etiam aliquet massa et lorem. Mauris dapibus lacus auctor risus. Aenean tempor ullamcorper leo. Vivamus sed magna quis ligula eleifend adipiscing. Duis orci. Aliquam sodales tortor vitae ipsum. Aliquam nulla. Duis aliquam molestie erat. Ut et mauris vel pede varius sollicitudin. Sed ut dolor nec orci tincidunt interdum. Phasellus ipsum. Nunc tristique tempus lectus.</p>\n"
@output_buffer.concat "\t</div>\n"
@output_buffer.concat "\t\n"
@output_buffer.concat "</div>\n"
@output_buffer.concat "\n"
@output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:274:in `compile!'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1326:in `default_render'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/session/abstract_store.rb:122:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/chunked.rb:15:in `call'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:64:in `process'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:159:in `process_client'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `each'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:158:in `process_client'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `initialize'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `new'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:285:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `initialize'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `new'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/mongrel-1.1.5-x86-mswin32-60/lib/mongrel.rb:268:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rack-1.0.1/lib/rack/handler/mongrel.rb:34:in `run'
C:/InstantRails/ruby/lib/ruby/gems/1.8/gems/rails-2.3.5/lib/commands/server.rb:111
C:/InstantRails/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
C:/InstantRails/ruby/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:31:in `require'
script/server:3

ActionView::TemplateError (compile error
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:55: syntax error, unexpected kELSE, expecting ')'
@output_buffer.concat "\t\t";  else ; @output_buffer.concat "\n"
                                   ^
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:57: syntax error, unexpected kEND, expecting ')'
@output_buffer.concat "\t\t";  end ; @output_buffer.concat "\n"
                                  ^
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:59: syntax error, unexpected kEND, expecting ')'
@output_buffer.concat "\t";  end ; @output_buffer.concat "\n"
                                ^
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:272: syntax error, unexpected kENSURE, expecting ')'
C:/InstantRails/rails_apps/work/depot/app/views/service/payer_signedin.html.erb:274: syntax error, unexpected kEND, expecting ')') on line #55 of app/views/service/payer_signedin.html.erb:
52: 		<% rem = i % 2 %>
53: 		<% if rem == 1 %>
54: 			$('#column1').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "consumer_selected(<%= consumer.billing_phone %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content" style="display:<%=#{@display}%>" %>Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
55: 		<% else %>
56: 			$('#column2').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
57: 		<% end %>
58: 		<% i += 1 %>

    app/views/service/payer_signedin.html.erb:274:in `compile!'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:16:46) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 63, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:17:49) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 79, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:20:04) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (93.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 234ms (View: 63, DB: 93) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:25:13) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (15.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:34:46) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:35:12) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 203ms (View: 32, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:35:23) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 46, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:35:32) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:38:14) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 234ms (View: 62, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:39:44) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 203ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:40:14) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:42:36) [GET]
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 63, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:45:03) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 63, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:46:18) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 234ms (View: 63, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:48:57) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 391ms (View: 313, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:49:14) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 157ms (View: 79, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:49:49) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:50:10) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:50:22) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:50:39) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 235ms (View: 156, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:51:41) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 172, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:52:29) [GET]
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 63, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:52:50) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 62, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:53:29) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:55:06) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:58:49) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 188, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#budget_update (for 127.0.0.1 at 2010-06-13 22:59:04) [POST]
  Parameters: {"consumer"=>{"edited_balance"=>"$102.00"}, "commit"=>"Submit", "consumer_rule"=>{"edited_budget"=>"$68.00", "rollover"=>"1"}}

ActionController::UnknownAction (No action responded to budget_update. Actions: check_pin_and_link_consumer, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 22:59:23) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 23:01:21) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 234ms (View: 63, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 23:10:56) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 328ms (View: 250, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#budget_update (for 127.0.0.1 at 2010-06-13 23:11:39) [POST]
  Parameters: {"consumer"=>{"edited_balance"=>"$25.00"}, "commit"=>"Submit", "consumer_rule"=>{"edited_budget"=>"$100.00", "rollover"=>"0"}}

ActionController::UnknownAction (No action responded to budget_update. Actions: check_pin_and_link_consumer, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 23:13:08) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 266ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#budget_update (for 127.0.0.1 at 2010-06-13 23:13:27) [POST]
  Parameters: {"consumer"=>{"edited_balance"=>"$25.00"}, "commit"=>"Submit", "consumer_rule"=>{"edited_budget"=>"$100.00", "rollover"=>"0"}}

ActionController::UnknownAction (No action responded to budget_update. Actions: check_pin_and_link_consumer, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 23:29:03) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 63, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 23:40:58) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 23:45:15) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 23:47:35) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 235ms (View: 63, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 23:48:32) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 360ms (View: 281, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 23:50:07) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 23:52:12) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-13 23:54:54) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:01:21) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:01:56) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:03:18) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:03:50) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 141, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:04:05) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:07:44) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:11:22) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 78, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:11:45) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 203ms (View: 125, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:12:37) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:14:38) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:18:10) [GET]
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 266ms (View: 78, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:20:12) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:20:24) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:20:56) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 32) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:23:30) [GET]
  [4;36;1mConsumer Load (94.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 47, DB: 94) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:25:13) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:27:42) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 110ms (View: 32, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:32:35) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 32, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:34:14) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 110ms (View: 32, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:34:44) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:35:02) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 157ms (View: 79, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:35:47) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:36:32) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:40:30) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:41:34) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:48:08) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 235ms (View: 156, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:48:29) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:48:42) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:49:53) [GET]
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 141, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:49:58) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:50:05) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 375ms (View: 31, DB: 31) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:50:10) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 00:50:32) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 46, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 01:17:12) [GET]
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 78, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:17:28) [GET]
  Parameters: {"id"=>"2346834572"}

ActionView::MissingTemplate (Missing template service/allowance.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:17:29) [GET]
  Parameters: {"id"=>"9875439874"}

ActionView::MissingTemplate (Missing template service/allowance.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:17:30) [GET]
  Parameters: {"id"=>"9875439876"}

ActionView::MissingTemplate (Missing template service/allowance.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:17:44) [GET]
  Parameters: {"id"=>"2346834572"}

ActionView::MissingTemplate (Missing template service/allowance.erb in view path app/views):
  

Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 01:24:43) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 344ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:24:55) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/allowance
Completed in 203ms (View: 125, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 01:27:01) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:27:07) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m

ActionView::MissingTemplate (Missing template service/__allowance.erb in view path app/views):
  app/controllers/service_controller.rb:97:in `allowance'

Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 01:31:49) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:31:54) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 01:33:15) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 79, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:33:21) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 203ms (View: 125, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:33:33) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:33:35) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 438ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:33:37) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:33:38) [GET]
  Parameters: {"id"=>"9875439876"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439876') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 148) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 203ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439876]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:33:42) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:33:43) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 203ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:33:45) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:33:47) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 203ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:33:49) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:33:57) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 203ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:34:45) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:35:20) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 219ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:35:22) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (0.0ms)
Completed in 78ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:35:23) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:35:25) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (15.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:36:00) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:36:02) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (15.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:36:03) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:36:04) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:36:06) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:36:08) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 01:37:34) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:37:38) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 187ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:37:44) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 01:38:05) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:38:11) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 188ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:38:12) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 15) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:38:14) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 219ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:38:16) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:45:36) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 218ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:45:40) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 01:46:25) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:46:32) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (16.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 109ms (View: 31, DB: 16) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:46:35) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:46:37) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:46:39) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:46:40) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (125.0ms)
Completed in 203ms (View: 125, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:49:31) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:49:34) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (125.0ms)
Completed in 234ms (View: 140, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:49:38) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (0.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:50:04) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 234ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:50:14) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:50:16) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 203ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:53:30) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:53:32) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 203ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:53:34) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:53:56) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 234ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 01:56:55) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 46, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:57:00) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:57:10) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:57:12) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 01:57:14) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:01:29) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:01:34) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 234ms (View: 47, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:01:41) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:01:43) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:01:44) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 78ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:02:03) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:02:58) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 203ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:05:13) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:05:24) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 32, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:05:30) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (125.0ms)
Completed in 219ms (View: 141, DB: 15) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:07:43) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:07:54) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 219ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:14:52) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:14:53) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:14:55) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 15) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:14:57) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:14:59) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:15:01) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:16:06) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:22:42) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:22:48) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (32.0ms)
Completed in 219ms (View: 47, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:22:51) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:22:54) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:23:51) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 79ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:23:58) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:24:02) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:24:25) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:24:26) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 78ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:24:29) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:24:30) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 32, DB: 16) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:24:37) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 109ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:24:39) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (125.0ms)
Completed in 203ms (View: 125, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:24:40) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:24:42) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (125.0ms)
Completed in 235ms (View: 125, DB: 32) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:26:10) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 157ms (View: 79, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:26:21) [GET]
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 32) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:26:33) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:27:00) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:27:16) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:27:50) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 203ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:28:48) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:29:00) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:29:01) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:29:01) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:29:10) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 234ms (View: 46, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:29:27) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (141.0ms)
Completed in 219ms (View: 141, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:29:49) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:32:12) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 422ms (View: 62, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:33:46) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 265ms (View: 187, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:34:37) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:34:39) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:35:36) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 266ms (View: 188, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:35:55) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:35:58) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 234ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:36:00) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:36:01) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 203ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:36:03) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:36:04) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 219ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:36:06) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:36:07) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 203ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:36:08) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (15.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:36:10) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:36:29) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:36:57) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:37:00) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 203ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:38:55) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (16.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 157ms (View: 63, DB: 32) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#index (for 127.0.0.1 at 2010-06-14 02:39:27) [GET]
Rendering template within layouts/service
Rendering service/index
Completed in 78ms (View: 78, DB: 0) | 200 OK [http://localhost/service]


Processing ServiceController#signout (for 127.0.0.1 at 2010-06-14 02:39:33) [GET]
Redirected to http://localhost:3000/service
Completed in 62ms (DB: 0) | 302 Found [http://localhost/service/signout]


Processing ServiceController#index (for 127.0.0.1 at 2010-06-14 02:39:33) [GET]
Rendering template within layouts/service
Rendering service/index
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/service]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-14 02:39:35) [GET]
Rendering template within layouts/service
Rendering service/signin
Completed in 16ms (View: 16, DB: 0) | 200 OK [http://localhost/service/signin]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-14 02:39:39) [POST]
  Parameters: {"user"=>{"name"=>"drorp108", "password"=>"1", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'drorp108') LIMIT 1[0m
  [4;36;1mPayer Load (0.0ms)[0m   [0;1mSELECT * FROM "payers" WHERE ("payers"."id" = 102) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".payer_id = 102) ORDER BY created_at DESC LIMIT 1[0m
Redirected to http://localhost:3000/service/payer_signedin
Completed in 62ms (DB: 0) | 302 Found [http://localhost/service/signin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:39:39) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:39:52) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 78ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:39:55) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:40:10) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 203ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:40:12) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (0.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:40:16) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (172.0ms)
Completed in 250ms (View: 188, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:40:18) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:40:19) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 391ms (View: 141, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:40:23) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:40:28) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 219ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:40:30) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 32, DB: 16) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:40:32) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 343ms (View: 31, DB: 15) | 200 OK [http://localhost/service/allowance/2346834572]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:40:34) [GET]
  Parameters: {"id"=>"9875439874"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439874') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/9875439874]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:40:34) [GET]
  Parameters: {"id"=>"9875439876"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439876') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 148) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (0.0ms)
Completed in 235ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/9875439876]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:40:37) [GET]
  Parameters: {"id"=>"9875439876"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '9875439876') LIMIT 1[0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 148) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/9875439876]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:42:08) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:42:22) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:42:24) [GET]
  Parameters: {"id"=>"146"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:42:26) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:42:28) [GET]
  Parameters: {"id"=>"146"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 31, DB: 16) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:42:30) [GET]
  Parameters: {"id"=>"148"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 148) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 148) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 203ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/148]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:42:32) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:42:36) [GET]
  Parameters: {"id"=>"147"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 147) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 147) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 219ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/147]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:42:38) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:42:40) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 218ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:42:41) [GET]
  Parameters: {"id"=>"146"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:42:43) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 360ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:42:49) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:42:51) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 265ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:42:55) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:43:17) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 234ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:43:20) [GET]
  Parameters: {"id"=>"147"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 147) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 147) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/147]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:43:22) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (15.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 219ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:43:24) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:43:25) [GET]
  Parameters: {"id"=>"147"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 147) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 147) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 234ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/147]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:43:27) [GET]
  Parameters: {"id"=>"146"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:43:31) [GET]
  Parameters: {"id"=>"148"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 148) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 148) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 219ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/148]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:43:33) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:43:34) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 219ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:43:49) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:43:53) [GET]
  Parameters: {"id"=>"146"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 219ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:43:54) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:44:59) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:06) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (125.0ms)
Completed in 234ms (View: 156, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:09) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:12) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 250ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:15) [GET]
  Parameters: {"id"=>"146"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:17) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 235ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:19) [GET]
  Parameters: {"id"=>"146"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:21) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 297ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:23) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:24) [GET]
  Parameters: {"id"=>"146"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 266ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:26) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:28) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 406ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:30) [GET]
  Parameters: {"id"=>"146"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:32) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (0.0ms)
Completed in 234ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:40) [GET]
  Parameters: {"id"=>"146"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:41) [GET]
  Parameters: {"id"=>"148"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 148) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 148) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 281ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/148]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:43) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:45:45) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 234ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:46:18) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:46:22) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:46:24) [GET]
  Parameters: {"id"=>"146"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:46:26) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:46:27) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 234ms (View: 31, DB: 31) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:46:29) [GET]
  Parameters: {"id"=>"146"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:46:30) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (203.0ms)
Completed in 328ms (View: 234, DB: 32) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:46:32) [GET]
  Parameters: {"id"=>"147"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 147) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 147) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 32, DB: 16) | 200 OK [http://localhost/service/allowance/147]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:46:33) [GET]
  Parameters: {"id"=>"146"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 234ms (View: 156, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:46:35) [GET]
  Parameters: {"id"=>"148"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 148) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 148) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/148]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:46:37) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 266ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:46:38) [GET]
  Parameters: {"id"=>"146"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:46:40) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 219ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:47:22) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 32, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:47:28) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 250ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:47:30) [GET]
  Parameters: {"id"=>"146"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:47:32) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (15.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:47:34) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (0.0ms)
Completed in 78ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:47:35) [GET]
  Parameters: {"id"=>"146"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:47:37) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:47:38) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:47:40) [GET]
  Parameters: {"id"=>"148"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 148) [0m
  [4;36;1mPayerRule Load (16.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 148) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/148]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:47:42) [GET]
  Parameters: {"id"=>"147"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 147) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 147) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/147]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:47:44) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:47:47) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:47:52) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:48:11) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 02:48:13) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:48:42) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 93ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 02:48:48) [POST]
  Parameters: {"consumer"=>{"pin"=>""}}
Rendering service/check_pin_and_link_consumer
Completed in 203ms (View: 15, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 02:48:52) [POST]
  Parameters: {"consumer"=>{"pin"=>""}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:48:54) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 265ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 02:48:57) [POST]
  Parameters: {"consumer"=>{"pin"=>""}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:49:00) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 500ms (View: 0, DB: 15) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 02:49:04) [POST]
  Parameters: {"consumer"=>{"pin"=>"2345"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:52:52) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 218ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:53:05) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:53:07) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:53:25) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:53:26) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:53:36) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:53:46) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:53:49) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:53:56) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 234ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:53:59) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:54:01) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:54:07) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:54:09) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:54:14) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 31, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:54:16) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:54:21) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:54:23) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 93ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:54:30) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:54:31) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 578ms (View: 16, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:54:42) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:54:45) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 02:55:04) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 172, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 02:55:07) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834579"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834579') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 109ms (View: 15, DB: 16) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 02:55:09) [POST]
  Parameters: {"consumer"=>{"pin"=>"2345"}}
Rendering service/check_pin_and_link_consumer
Completed in 328ms (View: 15, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 02:55:17) [POST]
  Parameters: {"consumer"=>{"pin"=>"7081"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-13 23:55:17', '2346834579', 102, '2010-06-13 23:55:17', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-13 23:55:18', 69.0, 10.0, 151, NULL, 't', '2010-06-13 23:55:18')[0m
Rendering service/check_pin_and_link_consumer
Completed in 344ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:04:47) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 03:04:59) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834580"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834580') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 16) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:05:01) [POST]
  Parameters: {"consumer"=>{"pin"=>"7081"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 16, DB: 16) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:05:06) [POST]
  Parameters: {"consumer"=>{"pin"=>"8508"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-14 00:05:06', '2346834580', 102, '2010-06-14 00:05:06', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-14 00:05:06', 69.0, 10.0, 152, NULL, 't', '2010-06-14 00:05:06')[0m

TypeError (can't convert true into Array):
  app/controllers/service_controller.rb:198:in `+'
  app/controllers/service_controller.rb:198:in `check_pin_and_link_consumer'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:05:10) [POST]
  Parameters: {"consumer"=>{"pin"=>"8508"}}

NoMethodError (undefined method `payer_id' for true:TrueClass):
  app/controllers/service_controller.rb:188:in `check_pin_and_link_consumer'

Rendered rescues/_trace (203.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:05:16) [POST]
  Parameters: {"consumer"=>{"pin"=>"8508"}}

NoMethodError (undefined method `payer_id' for true:TrueClass):
  app/controllers/service_controller.rb:188:in `check_pin_and_link_consumer'

Rendered rescues/_trace (218.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:05:19) [POST]
  Parameters: {"consumer"=>{"pin"=>"8508"}}

NoMethodError (undefined method `payer_id' for true:TrueClass):
  app/controllers/service_controller.rb:188:in `check_pin_and_link_consumer'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:05:36) [POST]
  Parameters: {"consumer"=>{"pin"=>"8508"}}

NoMethodError (undefined method `payer_id' for true:TrueClass):
  app/controllers/service_controller.rb:188:in `check_pin_and_link_consumer'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:05:40) [POST]
  Parameters: {"consumer"=>{"pin"=>"3333"}}
Rendering service/check_pin_and_link_consumer
Completed in 79ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:05:45) [POST]
  Parameters: {"consumer"=>{"pin"=>"8508"}}

NoMethodError (undefined method `payer_id' for true:TrueClass):
  app/controllers/service_controller.rb:188:in `check_pin_and_link_consumer'

Rendered rescues/_trace (203.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:05:47) [POST]
  Parameters: {"consumer"=>{"pin"=>"8508"}}

NoMethodError (undefined method `payer_id' for true:TrueClass):
  app/controllers/service_controller.rb:188:in `check_pin_and_link_consumer'

Rendered rescues/_trace (657.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:07:06) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 32, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 03:07:20) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834581"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834581') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:07:22) [POST]
  Parameters: {"consumer"=>{"pin"=>"8508"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 0, DB: 15) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:07:27) [POST]
  Parameters: {"consumer"=>{"pin"=>"1984"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-14 00:07:28', '2346834581', 102, '2010-06-14 00:07:28', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-14 00:07:28', 69.0, 10.0, 153, NULL, 't', '2010-06-14 00:07:28')[0m

TypeError (can't convert true into Array):
  app/controllers/service_controller.rb:198:in `+'
  app/controllers/service_controller.rb:198:in `check_pin_and_link_consumer'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:07:32) [POST]
  Parameters: {"consumer"=>{"pin"=>"1984"}}

NoMethodError (undefined method `payer_id' for true:TrueClass):
  app/controllers/service_controller.rb:188:in `check_pin_and_link_consumer'

Rendered rescues/_trace (62.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:08:31) [GET]
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 266ms (View: 31, DB: 32) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 03:08:40) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834582"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834582') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:08:42) [POST]
  Parameters: {"consumer"=>{"pin"=>"1984"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:08:46) [POST]
  Parameters: {"consumer"=>{"pin"=>"4058"}}
  [4;35;1mConsumer Create (15.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-14 00:08:46', '2346834582', 102, '2010-06-14 00:08:46', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-14 00:08:47', 69.0, 10.0, 154, NULL, 't', '2010-06-14 00:08:47')[0m

NoMethodError (undefined method `<<' for true:TrueClass):
  app/controllers/service_controller.rb:198:in `check_pin_and_link_consumer'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:10:32) [GET]
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 532ms (View: 438, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 03:10:38) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834583"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834583') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 109ms (View: 16, DB: 15) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:10:39) [POST]
  Parameters: {"consumer"=>{"pin"=>"4058"}}
Rendering service/check_pin_and_link_consumer
Completed in 203ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:10:46) [POST]
  Parameters: {"consumer"=>{"pin"=>"7507"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-14 00:10:46', '2346834583', 102, '2010-06-14 00:10:46', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-14 00:10:46', 69.0, 10.0, 155, NULL, 't', '2010-06-14 00:10:46')[0m
Rendering service/check_pin_and_link_consumer
Completed in 359ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:11:24) [GET]
  Parameters: {"id"=>"148"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 148) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 148) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 250ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/148]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:11:25) [GET]
  Parameters: {"id"=>"148"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 148) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 148) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/148]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:11:26) [GET]
  Parameters: {"id"=>"147"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 147) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 147) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/147]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:11:29) [GET]
  Parameters: {"id"=>"146"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:11:31) [GET]
  Parameters: {"id"=>"151"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 151) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 151) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 32, DB: 16) | 200 OK [http://localhost/service/allowance/151]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:11:33) [GET]
  Parameters: {"id"=>"153"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 153) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 153) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/153]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:13:20) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 03:13:25) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834584"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834584') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:13:26) [POST]
  Parameters: {"consumer"=>{"pin"=>"7507"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:13:31) [POST]
  Parameters: {"consumer"=>{"pin"=>"8924"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-14 00:13:31', '2346834584', 102, '2010-06-14 00:13:31', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-14 00:13:31', 69.0, 10.0, 156, NULL, 't', '2010-06-14 00:13:31')[0m
Rendering service/check_pin_and_link_consumer
Completed in 328ms (View: 15, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:14:39) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 297ms (View: 219, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 03:14:47) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834585"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834585') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:14:48) [POST]
  Parameters: {"consumer"=>{"pin"=>"8924"}}
Rendering service/check_pin_and_link_consumer
Completed in 328ms (View: 0, DB: 31) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:14:52) [POST]
  Parameters: {"consumer"=>{"pin"=>"1047"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-14 00:14:53', '2346834585', 102, '2010-06-14 00:14:53', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-14 00:14:53', 69.0, 10.0, 157, NULL, 't', '2010-06-14 00:14:53')[0m
Rendering service/check_pin_and_link_consumer
Completed in 344ms (View: 0, DB: 15) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:17:17) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:18:45) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 297ms (View: 219, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:18:54) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 03:19:00) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834586"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834586') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:19:04) [POST]
  Parameters: {"consumer"=>{"pin"=>"1047"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:19:09) [POST]
  Parameters: {"consumer"=>{"pin"=>"1456"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-14 00:19:09', '2346834586', 102, '2010-06-14 00:19:09', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (16.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-14 00:19:09', 69.0, 10.0, 158, NULL, 't', '2010-06-14 00:19:09')[0m
Rendering service/check_pin_and_link_consumer
Completed in 344ms (View: 0, DB: 16) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:19:49) [GET]
  Parameters: {"id"=>"146"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:19:52) [GET]
  Parameters: {"id"=>"148"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 148) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 148) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/148]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:19:57) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (0.0ms)
Completed in 109ms (View: 31, DB: 15) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:20:11) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:20:42) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (157.0ms)
Completed in 547ms (View: 172, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:22:09) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 188ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:22:27) [GET]
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:22:33) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 235ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:22:36) [GET]
  Parameters: {"id"=>"146"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:22:38) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:22:41) [GET]
  Parameters: {"id"=>"147"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 147) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 147) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/147]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:23:40) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:25:59) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 297ms (View: 79, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:26:11) [GET]
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 297ms (View: 78, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:26:21) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 609ms (View: 515, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:26:26) [GET]
  Parameters: {"id"=>"146"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (0.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:26:28) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 250ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:27:00) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:27:04) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:27:07) [GET]
  Parameters: {"id"=>"146"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 500ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:27:09) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:27:12) [GET]
  Parameters: {"id"=>"147"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 147) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 147) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 375ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/147]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:27:14) [GET]
  Parameters: {"id"=>"151"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 151) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 151) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/151]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:27:16) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 250ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:27:18) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:27:20) [GET]
  Parameters: {"id"=>"147"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 147) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 147) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/147]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:27:22) [GET]
  Parameters: {"id"=>"146"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:27:24) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:27:26) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (16.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:27:31) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:27:33) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:28:24) [GET]
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 171ms (View: 78, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:28:39) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:28:40) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:28:42) [GET]
  Parameters: {"id"=>"147"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 147) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 147) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/147]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:28:44) [GET]
  Parameters: {"id"=>"146"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 146) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 146) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/146]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:29:05) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (15.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 32, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:29:27) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 297ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:29:42) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 437ms (View: 359, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:29:54) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 187ms (View: 93, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:31:11) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 03:31:25) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:31:27) [POST]
  Parameters: {"consumer"=>{"pin"=>"1456"}}
Rendering service/check_pin_and_link_consumer
Completed in 79ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:31:33) [POST]
  Parameters: {"consumer"=>{"pin"=>"8479"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-14 00:31:34', '2346834574', 102, '2010-06-14 00:31:34', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (0.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-14 00:31:34', 69.0, 10.0, 159, NULL, 't', '2010-06-14 00:31:34')[0m
Rendering service/check_pin_and_link_consumer
Completed in 343ms (View: 15, DB: 15) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 03:33:41) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834575"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834575') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:33:42) [POST]
  Parameters: {"consumer"=>{"pin"=>"8479"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-14 03:33:47) [POST]
  Parameters: {"consumer"=>{"pin"=>"6909"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-14 00:33:47', '2346834575', 102, '2010-06-14 00:33:47', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-14 00:33:47', 69.0, 10.0, 160, NULL, 't', '2010-06-14 00:33:47')[0m
Rendering service/check_pin_and_link_consumer
Completed in 18000ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:35:08) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:35:10) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 313ms (View: 16, DB: 32) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:35:12) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-14 03:35:14) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 437ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 03:59:58) [GET]

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.empty?):
  app/controllers/service_controller.rb:95:in `payer_signedin'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:01:10) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.empty?) on line #35 of app/views/service/payer_signedin.html.erb:
32: 		</div>
33: 		<div class="right_content">
34: 			<div class="inner_content_title plain_message"></div>
35: 			<% if @consumers.empty? %>				
36: 				<%= image_tag "/images/thanks_for_joining5.png", :class => "righthandside_marketial" %>
37: 			<% else %>
38: 				<p class="inner_content_title" id="consumers">Existing Consumers</p>

    app/views/service/payer_signedin.html.erb:35

Rendered rescues/_trace (219.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:02:24) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (15.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #39 of app/views/service/payer_signedin.html.erb:
36: 
37: <script type="text/javascript">
38: 	<% i = 1 %>
39: 	<% for consumer in @consumers %>
40: 		<% rem = i % 2 %>
41: 		<% if rem == 1 %>
42: 			$('#column1').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "consumer_selected(<%= consumer.billing_phone %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content" >Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');

    app/views/service/payer_signedin.html.erb:39

Rendered rescues/_trace (110.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:04:16) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (62.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.empty?) on line #35 of app/views/service/payer_signedin.html.erb:
32: 		</div>
33: 		<div class="right_content">
34: <!--			<div class="inner_content_title plain_message"></div>
35: 			<% if @consumers.empty? %>				
36: 				<%= image_tag "/images/thanks_for_joining5.png", :class => "righthandside_marketial" %>
37: 			<% else %>
38: 				<p class="inner_content_title" id="consumers">Existing Consumers</p>

    app/views/service/payer_signedin.html.erb:35

Rendered rescues/_trace (109.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:04:41) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.empty?) on line #35 of app/views/service/payer_signedin.html.erb:
32: 		</div>
33: 		<div class="right_content">
34: <!--			<div class="inner_content_title plain_message"></div>
35: 			<% if @consumers.empty? %>				
36: 				<%= image_tag "/images/thanks_for_joining5.png", :class => "righthandside_marketial" %>
37: 			<% else %>
38: 				<p class="inner_content_title" id="consumers">Existing Consumers</p>

    app/views/service/payer_signedin.html.erb:35

Rendered rescues/_trace (109.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:05:30) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #39 of app/views/service/payer_signedin.html.erb:
36: 
37: <script type="text/javascript">
38: <!--	<% i = 1 %>
39: 	<% for consumer in @consumers %>
40: 		<% rem = i % 2 %>
41: 		<% if rem == 1 %>
42: 			$('#column1').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "consumer_selected(<%= consumer.billing_phone %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content" >Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');

    app/views/service/payer_signedin.html.erb:39

Rendered rescues/_trace (235.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:05:44) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:05:46) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendered service/_consumers (16.0ms)
Completed in 141ms (View: 31, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:06:52) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 312ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:06:54) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendered service/_consumers (0.0ms)
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:06:59) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:07:03) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendered service/_consumers (0.0ms)
Completed in 250ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:08:00) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:08:03) [GET]
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendered service/_consumers (0.0ms)
Completed in 94ms (View: 0, DB: 16) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:21:34) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #149 of app/views/service/payer_signedin.html.erb:
146: 		<script type="text/javascript">
147: 
148: 	<% i = 1 %>
149: 	<% for consumer in @consumers %>
150: 		<% rem = i % 2 %>
151: 		<% if rem == 1 %>
152: 			$('#column21').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "consumer_selected(<%= consumer.id %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content" >Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');

    app/views/service/payer_signedin.html.erb:149

Rendered rescues/_trace (109.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:22:20) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 390ms (View: 46, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:22:21) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendered service/_consumers (0.0ms)
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:28:43) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 171ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:28:58) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 266ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:29:01) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendered service/_consumers (16.0ms)
Completed in 125ms (View: 32, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:30:16) [GET]
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each) on line #152 of app/views/service/payer_signedin.html.erb:
149: <script type="text/javascript">
150: 	
151: 	<% i = 1 %>
152: 	<% for consumer in @consumers %>
153: 		<% rem = i % 2 %>
154: 		<% if rem == 1 %>
155: 			$('#column21').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "consumer_selected(<%= consumer.id %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content" >Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');

    app/views/service/payer_signedin.html.erb:152

Rendered rescues/_trace (219.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:32:22) [GET]
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:32:24) [GET]
Rendered service/_consumers (15.0ms)
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:33:29) [GET]
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 312ms (View: 78, DB: 31) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:33:30) [GET]
Rendered service/_consumers (16.0ms)
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:38:09) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 188ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:38:11) [GET]
Rendered service/_consumers (0.0ms)
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:38:34) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 313ms (View: 219, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:38:36) [GET]
Rendered service/_consumers (16.0ms)
Completed in 110ms (View: 31, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:40:44) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 203ms (View: 110, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:40:45) [GET]
Rendered service/_consumers (0.0ms)
Completed in 250ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:41:28) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 171ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:41:29) [GET]
Rendered service/_consumers (0.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:42:14) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 312ms (View: 93, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:42:15) [GET]
Rendered service/_consumers (16.0ms)
Completed in 266ms (View: 188, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:47:43) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 188ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:47:45) [GET]
Rendered service/_consumers (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:48:30) [GET]
Rendered service/_consumers (0.0ms)
Completed in 79ms (View: 0, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:48:31) [GET]
Rendered service/_consumers (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:49:33) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 312ms (View: 234, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:49:44) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 31, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:49:54) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 454ms (View: 47, DB: 94) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:49:55) [GET]
Rendered service/_consumers (0.0ms)
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:50:12) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:50:13) [GET]
Rendered service/_consumers (0.0ms)
Completed in 250ms (View: 0, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:50:21) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:50:22) [GET]
Rendered service/_consumers (0.0ms)
Completed in 93ms (View: 0, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#signout (for 127.0.0.1 at 2010-06-14 04:50:35) [GET]
Redirected to http://localhost:3000/service
Completed in 78ms (DB: 0) | 302 Found [http://localhost/service/signout]


Processing ServiceController#index (for 127.0.0.1 at 2010-06-14 04:50:35) [GET]
Rendering template within layouts/service
Rendering service/index
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://localhost/service]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-14 04:50:38) [GET]
Rendering template within layouts/service
Rendering service/signin
Completed in 31ms (View: 31, DB: 0) | 200 OK [http://localhost/service/signin]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-14 04:50:46) [POST]
  Parameters: {"user"=>{"name"=>"drorp108", "password"=>"1", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [4;35;1mUser Load (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."name" = 'drorp108') LIMIT 1[0m
  [4;36;1mPayer Load (0.0ms)[0m   [0;1mSELECT * FROM "payers" WHERE ("payers"."id" = 102) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".payer_id = 102) ORDER BY created_at DESC LIMIT 1[0m
Redirected to http://localhost:3000/service/payer_signedin
Completed in 234ms (DB: 0) | 302 Found [http://localhost/service/signin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 04:50:46) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 04:50:47) [GET]
Rendered service/_consumers (0.0ms)
Completed in 250ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 10:55:25) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 313ms (View: 156, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 10:55:27) [GET]
Rendered service/_consumers (0.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:00:23) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 328ms (View: 234, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:00:24) [GET]
Rendered service/_consumers (0.0ms)
Completed in 109ms (View: 0, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:00:53) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:00:54) [GET]
Rendered service/_consumers (16.0ms)
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:02:13) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 187ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:02:15) [GET]
Rendered service/_consumers (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:02:19) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (15.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:02:21) [GET]
Rendered service/_consumers (0.0ms)
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:02:22) [GET]
  [4;36;1mConsumer Load (141.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 266ms (View: 47, DB: 141) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:02:23) [GET]
Rendered service/_consumers (0.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:03:27) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 657ms (View: 47, DB: 32) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:03:28) [GET]
Rendered service/_consumers (16.0ms)
Completed in 282ms (View: 188, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:03:48) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:03:49) [GET]
Rendered service/_consumers (0.0ms)
Completed in 281ms (View: 0, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:04:55) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 47, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:04:56) [GET]
Rendered service/_consumers (16.0ms)
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:05:08) [GET]
Rendered service/_consumers (0.0ms)
Completed in 234ms (View: 15, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:05:11) [GET]
Rendered service/_consumers (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:08:59) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 422ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:09:01) [GET]
Rendered service/_consumers (16.0ms)
Completed in 188ms (View: 94, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:09:52) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:09:53) [GET]
Rendered service/_consumers (0.0ms)
Completed in 297ms (View: 0, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:12:41) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 188ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#all (for 127.0.0.1 at 2010-06-14 11:12:42) [GET]

ActionController::UnknownAction (No action responded to all. Actions: allowance, check_pin_and_link_consumer, consumers, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:13:53) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 313ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:14:14) [GET]
Rendered service/_consumers (0.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:14:26) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 187ms (View: 94, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:14:27) [GET]
Rendered service/_consumers (0.0ms)
Completed in 281ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:14:35) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 171ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:14:36) [GET]
Rendered service/_consumers (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:15:29) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:15:31) [GET]
Rendered service/_consumers (15.0ms)
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:16:00) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (15.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 47, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:16:01) [GET]
Rendered service/_consumers (0.0ms)
Completed in 94ms (View: 0, DB: 16) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:16:14) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:16:15) [GET]
Rendered service/_consumers (0.0ms)
Completed in 234ms (View: 0, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:16:45) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 187ms (View: 93, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:16:46) [GET]
Rendered service/_consumers (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:16:54) [GET]
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:16:56) [GET]
Rendered service/_consumers (0.0ms)
Completed in 93ms (View: 0, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:18:27) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 359ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:18:28) [GET]
Rendered service/_consumers (0.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:20:31) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:20:32) [GET]
Rendered service/_consumers (16.0ms)
Completed in 328ms (View: 31, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:24:06) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 46, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:24:08) [GET]
Rendered service/_consumers (15.0ms)
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:27:42) [GET]
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 328ms (View: 94, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:27:46) [GET]
Rendered service/_consumers (15.0ms)
Completed in 265ms (View: 187, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:28:17) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:28:18) [GET]
Rendered service/_consumers (15.0ms)
Completed in 281ms (View: 15, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:29:25) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 344ms (View: 250, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:29:26) [GET]
Rendered service/_consumers (0.0ms)
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:29:40) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 328ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:29:42) [GET]

ActionView::MissingTemplate (Missing template service/consumers.erb in view path app/views):
  app/controllers/service_controller.rb:86:in `consumers'

Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:30:07) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:30:08) [GET]
Rendered service/_consumers (0.0ms)
Completed in 281ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:31:10) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (15.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 47, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:31:11) [GET]
Rendering template within layouts/service
Rendering service/_consumers
Rendered service/_consumers (0.0ms)
Completed in 141ms (View: 31, DB: 16) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:40:52) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (15.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 47, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:40:53) [GET]
Redirected to http://localhost:3000/service/payer_signedin
Completed in 94ms (DB: 0) | 302 Found [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:40:54) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:41:42) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:41:43) [GET]
Redirected to http://localhost:3000/service/payer_signedin
Completed in 297ms (DB: 0) | 302 Found [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:41:44) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 63, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:41:48) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:41:49) [GET]
Redirected to http://localhost:3000/service/payer_signedin
Completed in 94ms (DB: 0) | 302 Found [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:41:50) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:45:17) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 360ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:45:18) [GET]
Redirected to http://localhost:3000/service/jg
Completed in 109ms (DB: 0) | 302 Found [http://localhost/service/consumers]


Processing ServiceController#jg (for 127.0.0.1 at 2010-06-14 11:45:19) [GET]

ActionController::UnknownAction (No action responded to jg. Actions: allowance, check_pin_and_link_consumer, consumers, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:47:37) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:47:41) [GET]
Redirected to http://localhost:3000/service/jg
Completed in 78ms (DB: 0) | 302 Found [http://localhost/service/consumers]


Processing ServiceController#jg (for 127.0.0.1 at 2010-06-14 11:47:42) [GET]

ActionController::UnknownAction (No action responded to jg. Actions: allowance, check_pin_and_link_consumer, consumers, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:47:45) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:47:53) [GET]
Redirected to http://localhost:3000/service/jg
Completed in 94ms (DB: 0) | 302 Found [http://localhost/service/consumers]


Processing ServiceController#jg (for 127.0.0.1 at 2010-06-14 11:47:53) [GET]

ActionController::UnknownAction (No action responded to jg. Actions: allowance, check_pin_and_link_consumer, consumers, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:48:15) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:48:16) [GET]
Redirected to http://localhost:3000/service/jg
Completed in 266ms (DB: 0) | 302 Found [http://localhost/service/consumers]


Processing ServiceController#jg (for 127.0.0.1 at 2010-06-14 11:48:16) [GET]

ActionController::UnknownAction (No action responded to jg. Actions: allowance, check_pin_and_link_consumer, consumers, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:48:27) [GET]
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 313ms (View: 47, DB: 32) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:48:28) [GET]
Redirected to http://localhost:3000/service/jg
Completed in 94ms (DB: 16) | 302 Found [http://localhost/service/consumers]


Processing ServiceController#jg (for 127.0.0.1 at 2010-06-14 11:48:28) [GET]

ActionController::UnknownAction (No action responded to jg. Actions: allowance, check_pin_and_link_consumer, consumers, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:48:31) [GET]
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 47, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:48:32) [GET]
Redirected to http://localhost:3000/service/jg
Completed in 93ms (DB: 0) | 302 Found [http://localhost/service/consumers]


Processing ServiceController#jg (for 127.0.0.1 at 2010-06-14 11:48:33) [GET]

ActionController::UnknownAction (No action responded to jg. Actions: allowance, check_pin_and_link_consumer, consumers, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:48:36) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 47, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:48:37) [GET]
Redirected to http://localhost:3000/service/jg
Completed in 94ms (DB: 0) | 302 Found [http://localhost/service/consumers]


Processing ServiceController#jg (for 127.0.0.1 at 2010-06-14 11:48:37) [GET]

ActionController::UnknownAction (No action responded to jg. Actions: allowance, check_pin_and_link_consumer, consumers, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 11:50:17) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 11:50:18) [GET]
Redirected to http://localhost:3000/service/jg
Completed in 281ms (DB: 0) | 302 Found [http://localhost/service/consumers]


Processing ServiceController#jg (for 127.0.0.1 at 2010-06-14 11:50:19) [GET]

ActionController::UnknownAction (No action responded to jg. Actions: allowance, check_pin_and_link_consumer, consumers, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-14 11:50:58) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834572"}}
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834572') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 422ms (View: 15, DB: 32) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 12:11:35) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 12:11:36) [GET]
Rendered service/_consumers (0.0ms)
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 12:13:36) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 12:13:38) [GET]
Redirected to http://localhost:3000/service/jg
Completed in 79ms (DB: 0) | 302 Found [http://localhost/service/consumers]


Processing ServiceController#jg (for 127.0.0.1 at 2010-06-14 12:13:38) [GET]

ActionController::UnknownAction (No action responded to jg. Actions: allowance, check_pin_and_link_consumer, consumers, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 12:16:41) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 203ms (View: 109, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 12:17:10) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 12:18:52) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 296ms (View: 46, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 12:19:31) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 328ms (View: 234, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 12:20:32) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 188ms (View: 94, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 12:20:33) [GET]
Redirected to http://localhost:3000/service/jg
Completed in 93ms (DB: 0) | 302 Found [http://localhost/service/consumers]


Processing ServiceController#jg (for 127.0.0.1 at 2010-06-14 12:20:34) [GET]

ActionController::UnknownAction (No action responded to jg. Actions: allowance, check_pin_and_link_consumer, consumers, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 12:23:07) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 187ms (View: 93, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 12:23:09) [GET]
Rendering service/consumers
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 12:29:53) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 328ms (View: 78, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 12:29:58) [GET]
Rendered service/_consumers (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 12:32:25) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 204ms (View: 110, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 12:32:26) [GET]
Rendered service/_consumers (0.0ms)
Completed in 281ms (View: 15, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 12:32:39) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 46, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 12:32:40) [GET]
Rendered service/_consumers (0.0ms)
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 12:34:13) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 328ms (View: 234, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 12:34:16) [GET]
Rendered service/_consumers (16.0ms)
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-14 12:36:14) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 187ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-14 12:36:15) [GET]
Rendered service/_consumers (16.0ms)
Completed in 282ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#index (for 127.0.0.1 at 2010-06-16 12:58:45) [GET]
Rendering template within layouts/service
Rendering service/index
Completed in 2125ms (View: 2125, DB: 0) | 200 OK [http://localhost/service]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-16 12:58:50) [GET]
Rendering template within layouts/service
Rendering service/signin
Completed in 78ms (View: 63, DB: 0) | 200 OK [http://localhost/service/signin]


Processing ServiceController#signin (for 127.0.0.1 at 2010-06-16 12:58:55) [POST]
  Parameters: {"user"=>{"name"=>"drorp108", "password"=>"1", "remember_me"=>"0"}, "commit"=>"Sign in"}
  [4;36;1mUser Load (16.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."name" = 'drorp108') LIMIT 1[0m
  [4;35;1mPayer Load (31.0ms)[0m   [0mSELECT * FROM "payers" WHERE ("payers"."id" = 102) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".payer_id = 102) ORDER BY created_at DESC LIMIT 1[0m
Redirected to http://localhost:3000/service/payer_signedin
Completed in 1516ms (DB: 47) | 302 Found [http://localhost/service/signin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 12:58:57) [GET]
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 234ms (View: 125, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-16 12:58:58) [GET]
Rendered service/_consumers (0.0ms)
Completed in 219ms (View: 16, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:04:55) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 406ms (View: 203, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-16 13:05:06) [GET]
Rendered service/_consumers (16.0ms)
Completed in 94ms (View: 16, DB: 16) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:20:23) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-16 13:20:32) [GET]
Rendered service/_consumers (0.0ms)
Completed in 172ms (View: 0, DB: 16) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:22:02) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 234ms (View: 156, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-16 13:22:08) [GET]
Rendered service/_consumers (0.0ms)
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://localhost/service/consumers]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:30:23) [GET]
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 297ms (View: 79, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:30:30) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 2346834572) [0m

ActiveRecord::RecordNotFound (Couldn't find Consumer with ID=2346834572):
  app/controllers/service_controller.rb:106:in `allowance'

Rendered rescues/_trace (203.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:30:31) [GET]
  Parameters: {"id"=>"2346834574"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 2346834574) [0m

ActiveRecord::RecordNotFound (Couldn't find Consumer with ID=2346834574):
  app/controllers/service_controller.rb:106:in `allowance'

Rendered rescues/_trace (266.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:30:42) [GET]
  Parameters: {"id"=>"2346834574"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 2346834574) [0m

ActiveRecord::RecordNotFound (Couldn't find Consumer with ID=2346834574):
  app/controllers/service_controller.rb:106:in `allowance'

Rendered rescues/_trace (250.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:32:02) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:32:07) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (47.0ms)
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:32:10) [GET]
  Parameters: {"id"=>"159"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 159) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 159) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 203ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/159]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:32:13) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:32:15) [GET]
  Parameters: {"id"=>"160"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 160) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 160) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 297ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/160]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:32:21) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:32:23) [GET]
  Parameters: {"id"=>"159"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 159) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 159) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (0.0ms)
Completed in 203ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/159]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:32:25) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:32:26) [GET]
  Parameters: {"id"=>"160"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 160) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 160) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/160]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:32:30) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:32:31) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:32:33) [GET]
  Parameters: {"id"=>"159"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 159) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 159) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (32.0ms)
Completed in 110ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/159]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:32:54) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:33:31) [GET]
  Parameters: {"id"=>"2346834574"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 2346834574) [0m

ActiveRecord::RecordNotFound (Couldn't find Consumer with ID=2346834574):
  app/controllers/service_controller.rb:106:in `allowance'

Rendered rescues/_trace (63.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:34:05) [GET]
  Parameters: {"id"=>"2346834572"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 2346834572) [0m

ActiveRecord::RecordNotFound (Couldn't find Consumer with ID=2346834572):
  app/controllers/service_controller.rb:106:in `allowance'

Rendered rescues/_trace (172.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:34:07) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 296ms (View: 203, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:34:21) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:34:24) [GET]
  Parameters: {"id"=>"159"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 159) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 159) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 219ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/159]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:34:27) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:37:16) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 187ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:37:17) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 219ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:37:40) [GET]
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:37:41) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:37:59) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:38:00) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (125.0ms)
Completed in 266ms (View: 125, DB: 32) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:38:50) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 62, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:40:11) [GET]
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:41:01) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 266ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:41:40) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 188, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:41:41) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:43:36) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 187ms (View: 93, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:43:38) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 187ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:45:24) [GET]
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 235ms (View: 110, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:45:58) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:45:59) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 13:51:20) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 171, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 13:51:21) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:00:20) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:00:21) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 219ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:00:27) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 125ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:00:28) [GET]
  Parameters: {"id"=>"159"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 159) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 159) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 266ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/159]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:00:30) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:00:32) [GET]
  Parameters: {"id"=>"160"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 160) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 160) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/160]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:02:09) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 187, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:02:10) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:04:59) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 359ms (View: 78, DB: 31) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:05:01) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 203ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:05:42) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:05:43) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 109ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:14:06) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 172, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:14:46) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 234ms (View: 140, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:14:47) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:15:33) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:15:34) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (125.0ms)
Completed in 219ms (View: 140, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:15:44) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:15:44) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 328ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:15:50) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:15:51) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:16:40) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 266ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:16:41) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:17:02) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 62, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:17:03) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:17:07) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:17:08) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:17:11) [GET]
  Parameters: {"id"=>"159"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 159) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 159) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 15, DB: 15) | 200 OK [http://localhost/service/allowance/159]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:17:12) [GET]
  Parameters: {"id"=>"160"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 160) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 160) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/160]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:17:14) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (110.0ms)
Completed in 188ms (View: 110, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:17:16) [GET]
  Parameters: {"id"=>"159"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 159) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 159) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/159]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:17:18) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 547ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:18:19) [GET]
  Parameters: {"id"=>"159"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 159) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 159) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (0.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/159]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:18:21) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 235ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:18:23) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:18:24) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 234ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:18:26) [GET]
  Parameters: {"id"=>"159"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 159) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 159) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/159]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:18:27) [GET]
  Parameters: {"id"=>"160"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 160) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 160) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/160]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:18:29) [GET]
  Parameters: {"id"=>"159"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 159) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 159) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/159]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:18:30) [GET]
  Parameters: {"id"=>"159"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 159) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 159) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/159]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:18:32) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:18:34) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:18:35) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 234ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:18:39) [GET]
  Parameters: {"id"=>"159"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 159) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 159) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/159]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:18:41) [GET]
  Parameters: {"id"=>"160"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 160) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 160) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 297ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/160]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:18:44) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:18:45) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 14:18:56) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834576"}}
  [4;36;1mConsumer Load (31.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834576') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 141ms (View: 16, DB: 31) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:18:58) [POST]
  Parameters: {"consumer"=>{"pin"=>""}}
Rendering service/check_pin_and_link_consumer
Completed in 109ms (View: 31, DB: 15) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:19:01) [POST]
  Parameters: {"consumer"=>{"pin"=>""}}
Rendering service/check_pin_and_link_consumer
Completed in 187ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:19:09) [POST]
  Parameters: {"consumer"=>{"pin"=>""}}
Rendering service/check_pin_and_link_consumer
Completed in 79ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:26:41) [POST]
  Parameters: {"consumer"=>{"pin"=>""}}
Rendering service/check_pin_and_link_consumer
Completed in 250ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:26:44) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 0, DB: 15) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:26:45) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 203ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:26:49) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:26:50) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 79ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:26:51) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 16, DB: 16) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:27:04) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:31:49) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:31:50) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 125ms (View: 31, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 14:31:51) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834576"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834576') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 203ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:32:07) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 0, DB: 16) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 14:33:26) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 266ms (View: 0, DB: 47) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:35:51) [GET]
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 110ms (View: 32, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:35:52) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (32.0ms)
Completed in 141ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 14:35:54) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 203ms (View: 15, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:36:00) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 15, DB: 16) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:38:43) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 32, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:38:44) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (125.0ms)
Completed in 235ms (View: 141, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:38:46) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:38:54) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 344ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:38:55) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:38:58) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:39:05) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 172ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:39:22) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:39:23) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:39:24) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:39:30) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:39:58) [GET]
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 157, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:39:59) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:40:01) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 375ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 14:40:11) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:40:14) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:40:50) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:40:51) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (47.0ms)
Completed in 172ms (View: 47, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:40:52) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 203ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:41:05) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:41:06) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:41:07) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 187ms (View: 15, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:48:32) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:48:33) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 14:48:35) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:48:38) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 32, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:48:59) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 219ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:49:00) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 14:49:04) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:49:06) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 203ms (View: 125, DB: 16) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 14:49:12) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834576"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834576') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 109ms (View: 16, DB: 15) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:49:14) [POST]
  Parameters: {"consumer"=>{"pin"=>"234234"}}
Rendering service/check_pin_and_link_consumer
Completed in 359ms (View: 0, DB: 31) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:49:22) [POST]
  Parameters: {"consumer"=>{"pin"=>"9342"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 11:49:22', '2346834576', 102, '2010-06-16 11:49:22', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (0.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 11:49:22', 69.0, 10.0, 161, NULL, 't', '2010-06-16 11:49:22')[0m
Rendering service/check_pin_and_link_consumer
Completed in 344ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:50:30) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 31, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:50:31) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 14:50:34) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834576"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834576') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:50:35) [POST]
  Parameters: {"consumer"=>{"pin"=>"9342"}}
Rendering service/check_pin_and_link_consumer
Completed in 187ms (View: 125, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 14:53:53) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834577"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834577') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:53:55) [POST]
  Parameters: {"consumer"=>{"pin"=>"9342"}}
Rendering service/check_pin_and_link_consumer
Completed in 219ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:53:58) [POST]
  Parameters: {"consumer"=>{"pin"=>"9342"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 14:54:04) [POST]
  Parameters: {"consumer"=>{"pin"=>"9342"}}
Rendering service/check_pin_and_link_consumer
Completed in 203ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:58:34) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 157ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:58:35) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:59:01) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 265ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:59:02) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:59:30) [GET]
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 46, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:59:31) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 219ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 14:59:45) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 46, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 14:59:46) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:00:01) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 282ms (View: 188, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:00:02) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 125ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 15:00:13) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834578"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834578') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 110ms (View: 0, DB: 16) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:00:14) [POST]
  Parameters: {"consumer"=>{"pin"=>"9342"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:00:19) [POST]
  Parameters: {"consumer"=>{"pin"=>"6453"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 12:00:19', '2346834578', 102, '2010-06-16 12:00:19', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 12:00:19', 69.0, 10.0, 162, NULL, 't', '2010-06-16 12:00:19')[0m
Rendering service/check_pin_and_link_consumer
Completed in 344ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:02:49) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 360ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:02:50) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 125ms (View: 31, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:03:09) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 79, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:03:10) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 109ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:03:41) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 266ms (View: 172, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:03:42) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 141ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:05:53) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:05:54) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 266ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:06:09) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:06:10) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:06:32) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 297ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:06:33) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (46.0ms)
Completed in 156ms (View: 46, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:06:59) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:07:00) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:07:12) [GET]
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 266ms (View: 188, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:07:13) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:08:07) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (15.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 31, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:08:08) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (156.0ms)
Completed in 250ms (View: 156, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 15:08:15) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834578"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834578') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 15:08:22) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 313ms (View: 16, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:08:24) [POST]
  Parameters: {"consumer"=>{"pin"=>"6453"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:08:28) [POST]
  Parameters: {"consumer"=>{"pin"=>"9776"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 12:08:28', '2346834574', 102, '2010-06-16 12:08:28', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (0.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 12:08:28', 69.0, 10.0, 163, NULL, 't', '2010-06-16 12:08:28')[0m
Rendering service/check_pin_and_link_consumer
Completed in 500ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:08:50) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:08:51) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 156ms (View: 46, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 15:08:59) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834575"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834575') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 219ms (View: 0, DB: 16) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:09:01) [POST]
  Parameters: {"consumer"=>{"pin"=>"9776"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:09:05) [POST]
  Parameters: {"consumer"=>{"pin"=>"8542"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 12:09:06', '2346834575', 102, '2010-06-16 12:09:06', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (0.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 12:09:06', 69.0, 10.0, 164, NULL, 't', '2010-06-16 12:09:06')[0m
Rendering service/check_pin_and_link_consumer
Completed in 500ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:09:54) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:09:56) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 234ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:09:58) [GET]
  Parameters: {"id"=>"163"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 163) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 163) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/163]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:10:00) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 125ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:10:02) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:10:04) [GET]
  Parameters: {"id"=>"163"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 163) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 163) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/163]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:10:05) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 125ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:10:07) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:11:20) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:11:22) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 172ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:11:40) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 47, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:11:41) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 266ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:16:11) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 203ms (View: 109, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:16:14) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 125ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:16:25) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 313ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:16:26) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 125ms (View: 31, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:17:16) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:17:17) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:17:46) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 297ms (View: 203, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:17:47) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 125ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:18:16) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (16.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 187ms (View: 78, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:18:17) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 265ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:19:13) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 93, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:19:14) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:23:13) [GET]
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 328ms (View: 94, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:23:19) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:23:36) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 188ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:23:37) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:23:50) [GET]
  Parameters: {"id"=>"163"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 163) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 163) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (141.0ms)
Completed in 219ms (View: 141, DB: 0) | 200 OK [http://localhost/service/allowance/163]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:23:55) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:23:57) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 359ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:23:59) [GET]
  Parameters: {"id"=>"164"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 164) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 164) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/164]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:24:00) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 250ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:24:02) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:25:52) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 328ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:25:54) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 360ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:26:42) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (16.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 62, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:26:43) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 125ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:27:02) [GET]
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 297ms (View: 78, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:27:04) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 156ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:27:23) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:27:24) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 312ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 15:27:33) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834576"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834576') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:27:35) [POST]
  Parameters: {"consumer"=>{"pin"=>"8542"}}
Rendering service/check_pin_and_link_consumer
Completed in 235ms (View: 16, DB: 16) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:27:40) [POST]
  Parameters: {"consumer"=>{"pin"=>"0748"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 12:27:40', '2346834576', 102, '2010-06-16 12:27:40', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (0.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 12:27:41', 69.0, 10.0, 165, NULL, 't', '2010-06-16 12:27:41')[0m
Rendering service/check_pin_and_link_consumer
Completed in 313ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:29:37) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 46, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:29:38) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 297ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 15:29:46) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834577"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834577') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 188ms (View: 16, DB: 16) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:29:48) [POST]
  Parameters: {"consumer"=>{"pin"=>"0748"}}
Rendering service/check_pin_and_link_consumer
Completed in 500ms (View: 15, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:29:53) [POST]
  Parameters: {"consumer"=>{"pin"=>"7661"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 12:29:53', '2346834577', 102, '2010-06-16 12:29:53', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (0.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 12:29:53', 69.0, 10.0, 166, NULL, 't', '2010-06-16 12:29:53')[0m
Rendering service/check_pin_and_link_consumer
Completed in 329ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:31:07) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 187ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:31:08) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 297ms (View: 31, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:31:31) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:31:32) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 125ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 15:31:40) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 250ms (View: 16, DB: 15) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:31:42) [POST]
  Parameters: {"consumer"=>{"pin"=>"7661"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:31:46) [POST]
  Parameters: {"consumer"=>{"pin"=>"2384"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 12:31:47', '2346834574', 102, '2010-06-16 12:31:47', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 12:31:47', 69.0, 10.0, 167, NULL, 't', '2010-06-16 12:31:47')[0m
Rendering service/check_pin_and_link_consumer
Completed in 610ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:31:58) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:32:00) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 281ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:32:04) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:32:05) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:33:17) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:33:19) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 125ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 15:33:24) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834575"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834575') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 250ms (View: 16, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:33:26) [POST]
  Parameters: {"consumer"=>{"pin"=>"2384"}}
Rendering service/check_pin_and_link_consumer

ActionView::TemplateError (undefined local variable or method `consumer' for #<ActionView::Base:0x843e600>) on line #17 of app/views/service/check_pin_and_link_consumer.js.erb:
14: 	if 		(rem == 1)
15: 	{
16: 	$('#column1').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(@phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
17: 	$('#column21').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "viewAllowance(<%= consumer.id %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(@phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
18: 	}
19: 	else 
20: 	{

    app/views/service/check_pin_and_link_consumer.js.erb:17
    app/controllers/service_controller.rb:188:in `check_pin_and_link_consumer'

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:33:29) [POST]
  Parameters: {"consumer"=>{"pin"=>"2384"}}
Rendering service/check_pin_and_link_consumer

ActionView::TemplateError (undefined local variable or method `consumer' for #<ActionView::Base:0x83443f8>) on line #17 of app/views/service/check_pin_and_link_consumer.js.erb:
14: 	if 		(rem == 1)
15: 	{
16: 	$('#column1').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(@phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
17: 	$('#column21').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "viewAllowance(<%= consumer.id %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(@phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
18: 	}
19: 	else 
20: 	{

    app/views/service/check_pin_and_link_consumer.js.erb:17
    app/controllers/service_controller.rb:188:in `check_pin_and_link_consumer'

Rendered rescues/_trace (109.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:34:44) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:34:46) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (172.0ms)
Completed in 297ms (View: 172, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 15:34:47) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834575"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834575') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:34:49) [POST]
  Parameters: {"consumer"=>{"pin"=>"2384"}}
Rendering service/check_pin_and_link_consumer

ActionView::TemplateError (undefined local variable or method `consumer' for #<ActionView::Base:0x82f2b5c>) on line #17 of app/views/service/check_pin_and_link_consumer.js.erb:
14: 	if 		(rem == 1)
15: 	{
16: 	$('#column1').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(@phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
17: 	$('#column21').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "viewAllowance(<%= consumer.id %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(@phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
18: 	}
19: 	else 
20: 	{

    app/views/service/check_pin_and_link_consumer.js.erb:17
    app/controllers/service_controller.rb:188:in `check_pin_and_link_consumer'

Rendered rescues/_trace (94.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:34:51) [POST]
  Parameters: {"consumer"=>{"pin"=>"2384"}}
Rendering service/check_pin_and_link_consumer

ActionView::TemplateError (undefined local variable or method `consumer' for #<ActionView::Base:0x8541480>) on line #17 of app/views/service/check_pin_and_link_consumer.js.erb:
14: 	if 		(rem == 1)
15: 	{
16: 	$('#column1').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(@phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
17: 	$('#column21').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "viewAllowance(<%= consumer.id %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(@phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
18: 	}
19: 	else 
20: 	{

    app/views/service/check_pin_and_link_consumer.js.erb:17
    app/controllers/service_controller.rb:188:in `check_pin_and_link_consumer'

Rendered rescues/_trace (266.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:35:27) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:35:28) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (47.0ms)
Completed in 219ms (View: 47, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 15:35:30) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834575"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834575') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 156ms (View: 15, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:35:32) [POST]
  Parameters: {"consumer"=>{"pin"=>"2384"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:36:32) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 250ms (View: 156, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:36:33) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 156ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 15:36:35) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834575"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834575') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 235ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:36:37) [POST]
  Parameters: {"consumer"=>{"pin"=>"2384"}}
Rendering service/check_pin_and_link_consumer

ActionView::TemplateError (undefined local variable or method `consumer' for #<ActionView::Base:0x83f6864>) on line #17 of app/views/service/check_pin_and_link_consumer.js.erb:
14: 	if 		(rem == 1)
15: 	{
16: 	$('#column1').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(@phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
17: 	$('#column21').append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "viewAllowance(<%= consumer.id %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(@phone, :area_code => true)) %></div><div class="portlet-content">Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
18: 	}
19: 	else 
20: 	{

    app/views/service/check_pin_and_link_consumer.js.erb:17
    app/controllers/service_controller.rb:188:in `check_pin_and_link_consumer'

Rendered rescues/_trace (110.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:42:08) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 438ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:42:10) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (32.0ms)
Completed in 141ms (View: 32, DB: 15) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 15:42:15) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834575"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834575') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 109ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:42:17) [POST]
  Parameters: {"consumer"=>{"pin"=>"2384"}}
Rendering service/check_pin_and_link_consumer
Completed in 234ms (View: 156, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 15:42:22) [POST]
  Parameters: {"consumer"=>{"pin"=>"3272"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 12:42:22', '2346834575', 102, '2010-06-16 12:42:22', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 12:42:22', 69.0, 10.0, 168, NULL, 't', '2010-06-16 12:42:22')[0m
Rendering service/check_pin_and_link_consumer
Completed in 407ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:42:27) [GET]
  Parameters: {"id"=>"168"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 297ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:44:47) [GET]
  Parameters: {"id"=>"168"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:44:50) [GET]
  Parameters: {"id"=>"167"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 234ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:44:54) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (16.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 109ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:44:56) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:44:58) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 141ms (View: 32, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:45:01) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:45:02) [GET]
  Parameters: {"id"=>"168"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:45:04) [GET]
  Parameters: {"id"=>"167"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:45:23) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:45:34) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (31.0ms)
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:45:38) [GET]
  Parameters: {"id"=>"167"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 593ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:45:42) [GET]
  Parameters: {"id"=>"168"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 110ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 15:45:47) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (16.0ms)
Completed in 250ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 15:59:45) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 188ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:00:03) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 46, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:02:23) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 375ms (View: 109, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:02:24) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendered service/_allowance (15.0ms)
Completed in 297ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:24:58) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 203ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:24:59) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance

ActionView::TemplateError (undefined method `allowance' for nil:NilClass) on line #2 of app/views/service/allowance.js.erb:
1: document.getElementById("balance").value = <%= @consumer.balance %>;
2: document.getElementById("budget").value = <%= @consumer_rules.allowance %>;
3: drawChart();
4: modifyBudget();
5: modifyBalance();

    app/views/service/allowance.js.erb:2
    app/controllers/service_controller.rb:117:in `allowance'

Rendered rescues/_trace (203.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:26:16) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:26:17) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:27:27) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:27:30) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:28:13) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 796ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:28:15) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:28:19) [GET]
  Parameters: {"id"=>"168"}
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 313ms (View: 16, DB: 31) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:28:21) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:30:27) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 297ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:30:28) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:30:44) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:30:46) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:30:48) [GET]
  Parameters: {"id"=>"168"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:30:50) [GET]
  Parameters: {"id"=>"167"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 328ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:35:22) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 63, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:35:24) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 328ms (View: 31, DB: 15) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:36:21) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:36:23) [GET]
  Parameters: {"id"=>"168"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:36:24) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:36:26) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:38:21) [GET]
  Parameters: {"id"=>"168"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 250ms (View: 172, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:38:23) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:38:24) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 422ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:38:25) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:38:27) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 266ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:42:49) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 203ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:42:50) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:46:38) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 219ms (View: 0, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:46:40) [GET]
  Parameters: {"id"=>"168"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:46:41) [GET]
  Parameters: {"id"=>"167"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 250ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:46:42) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:48:06) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 343ms (View: 93, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:48:08) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:49:43) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:50:03) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 266ms (View: 16, DB: 32) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:50:18) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:51:03) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 312ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:51:05) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 140ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:51:09) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:51:11) [GET]
  Parameters: {"id"=>"168"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:51:46) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:51:47) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 297ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:51:55) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (16.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 47, DB: 31) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:51:56) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:52:13) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 282ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:52:14) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:52:54) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:52:56) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 328ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:54:04) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 531ms (View: 422, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:54:18) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 187ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:54:19) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 15, DB: 32) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:54:38) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 313ms (View: 79, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:54:40) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 140ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:54:55) [GET]
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 187ms (View: 94, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:54:56) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:55:07) [GET]
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 375ms (View: 266, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 16:55:08) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 16:56:03) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (undefined method `allowance' for nil:NilClass) on line #135 of app/views/service/payer_signedin.html.erb:
132: 			if (xmlhttp.readyState == 4 && xmlhttp.status == 200) 
133: 			{
134: document.getElementById("balance").value = <%= @consumer.balance %>;
135: document.getElementById("budget").value = <%= @consumer_rules.allowance %>;
136: 
137: 				drawChart();
138: 				modifyBudget();

    app/views/service/payer_signedin.html.erb:135

Rendered rescues/_trace (250.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 17:28:01) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 17:28:15) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:28:16) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 17:29:25) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 360ms (View: 250, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 17:29:32) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 17:30:40) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 17:31:06) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 328ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:31:07) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 17:32:19) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#service (for 127.0.0.1 at 2010-06-16 17:32:21) [GET]
  Parameters: {"id"=>"allowance"}

ActionController::UnknownAction (No action responded to service. Actions: allowance, check_pin_and_link_consumer, consumers, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 17:32:50) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 296ms (View: 218, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:32:51) [GET]

ActiveRecord::RecordNotFound (Couldn't find Consumer without an ID):
  app/controllers/service_controller.rb:111:in `allowance'

Rendered rescues/_trace (250.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 17:33:24) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 641ms (View: 563, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:33:26) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (15.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 0, DB: 15) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 17:35:11) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 328ms (View: 94, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:35:13) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 17:47:08) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 187ms (View: 94, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:47:09) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:47:23) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:47:27) [GET]
  Parameters: {"id"=>"168"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:47:33) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 235ms (View: 157, DB: 16) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:47:37) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 0, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:47:46) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 485ms (View: 0, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:47:48) [GET]
  Parameters: {"id"=>"168"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:47:50) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 250ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:47:52) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:47:55) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 359ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:47:57) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:47:58) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 250ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:47:59) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:48:01) [GET]
  Parameters: {"id"=>"168"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 250ms (View: 16, DB: 156) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:48:03) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:48:05) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:48:17) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:48:25) [GET]
  Parameters: {"id"=>"168"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:48:29) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:48:32) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:48:37) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 141ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:48:41) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:48:45) [GET]
  Parameters: {"id"=>"168"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:48:48) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 17:48:51) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (15.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 578ms (View: 16, DB: 30) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:09:40) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 0, DB: 16) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:09:42) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 360ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:09:44) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:09:44) [GET]
  Parameters: {"id"=>"168"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 312ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:38:32) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:38:34) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (15.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 234ms (View: 0, DB: 15) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:38:36) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:38:38) [GET]
  Parameters: {"id"=>"168"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 250ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:38:40) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:38:42) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:38:43) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:38:55) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:38:57) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:39:02) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:39:04) [GET]
  Parameters: {"id"=>"168"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:39:06) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:39:07) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:39:08) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:39:10) [GET]
  Parameters: {"id"=>"168"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 312ms (View: 234, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:39:11) [GET]
  Parameters: {"id"=>"168"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 18:39:18) [POST]
  Parameters: {"consumer"=>{"pin"=>"3272"}}
Rendering service/check_pin_and_link_consumer
Completed in 359ms (View: 15, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 18:39:20) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834576"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834576') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 18:39:22) [POST]
  Parameters: {"consumer"=>{"pin"=>"3272"}}
Rendering service/check_pin_and_link_consumer
Completed in 265ms (View: 15, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 18:39:26) [POST]
  Parameters: {"consumer"=>{"pin"=>"2256"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 15:39:26', '2346834576', 102, '2010-06-16 15:39:26', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 15:39:26', 69.0, 10.0, 169, NULL, 't', '2010-06-16 15:39:26')[0m
Rendering service/check_pin_and_link_consumer
Completed in 344ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:39:32) [GET]
  Parameters: {"id"=>"169"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 169) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 169) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 328ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/169]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:39:35) [GET]
  Parameters: {"id"=>"167"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:39:37) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 250ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 18:40:31) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834577"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834577') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 93ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 18:40:34) [POST]
  Parameters: {"consumer"=>{"pin"=>"2256"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 0, DB: 15) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 18:40:38) [POST]
  Parameters: {"consumer"=>{"pin"=>"0997"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 15:40:38', '2346834577', 102, '2010-06-16 15:40:38', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (0.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 15:40:39', 69.0, 10.0, 170, NULL, 't', '2010-06-16 15:40:39')[0m
Rendering service/check_pin_and_link_consumer
Completed in 360ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:40:48) [GET]
  Parameters: {"id"=>"170"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 170) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 170) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/170]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 18:49:18) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 438ms (View: 110, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 18:50:04) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 500ms (View: 406, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:50:05) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 18:50:16) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 593ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 18:50:18) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 297ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 18:51:20) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 18:53:14) [GET]
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 46, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 18:54:54) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 31, DB: 32) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:10:20) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:10:27) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:10:48) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 313ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:10:49) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 266ms (View: 172, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#consumers (for 127.0.0.1 at 2010-06-16 19:10:50) [GET]
  Parameters: {"id"=>"2"}
Rendering service/consumers

ActionView::TemplateError (undefined local variable or method `param' for #<ActionView::Base:0x82b5ef0>) on line #5 of app/views/service/consumers.js.erb:
2: <% for consumer in @consumers %>
3: 	<% rem = i % 2 %>
4: 	<% if rem == 1 %>
5: 		$(<%= (param[:id]==1) ? '#column1':'#column21' %>).append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "viewAllowance(<%= consumer.id %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content" >Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
6: 	<% else %>
7: 		$((<%= (param[:id]==1) ? '#column1':'#column21' %>)).append('<div class="portlet ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"><div onclick = "viewAllowance(<%= consumer.id %>)" class="portlet-header ui-widget-header ui-corner-all"><%= escape_javascript(number_to_phone(consumer.billing_phone, :area_code => true)) %></div><div class="portlet-content" >Lorem ipsum dolor sit amet, consectetuer adipiscing elit</div></div>');
8: 	<% end %>

    app/views/service/consumers.js.erb:5
    app/views/service/consumers.js.erb:2:in `each'
    app/views/service/consumers.js.erb:2
    app/controllers/service_controller.rb:87:in `consumers'

Rendered rescues/_trace (109.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:11:41) [GET]
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 1015ms (View: 312, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:12:19) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:13:07) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:14:29) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:14:48) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 313ms (View: 79, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:14:49) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:14:57) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:14:58) [GET]
  Parameters: {"id"=>"168"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 168) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 168) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/168]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:15:00) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:15:02) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 234ms (View: 156, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:15:03) [GET]
  Parameters: {"id"=>"170"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 170) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 170) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/170]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:15:05) [GET]
  Parameters: {"id"=>"169"}
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 169) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 169) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 719ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/169]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:15:07) [GET]
  Parameters: {"id"=>"167"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 167) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 167) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/167]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:15:09) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 344ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:18:43) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:18:45) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:18:52) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:18:54) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:18:55) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:18:57) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:19:59) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:20:00) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:20:01) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:20:03) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:20:05) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 875ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:20:07) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:20:08) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 250ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:20:10) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:20:11) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 266ms (View: 16, DB: 31) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:20:18) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:20:20) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 265ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 19:20:27) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:20:29) [POST]
  Parameters: {"consumer"=>{"pin"=>"0997"}}
Rendering service/check_pin_and_link_consumer
Completed in 250ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:20:33) [POST]
  Parameters: {"consumer"=>{"pin"=>"2807"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 16:20:33', '2346834574', 102, '2010-06-16 16:20:33', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (0.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 16:20:33', 69.0, 10.0, 171, NULL, 't', '2010-06-16 16:20:33')[0m
Rendering service/check_pin_and_link_consumer
Completed in 360ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:20:45) [GET]
  Parameters: {"id"=>"171"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 171) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 171) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/171]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:22:10) [GET]
  [4;36;1mConsumer Load (15.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 312ms (View: 219, DB: 15) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:22:11) [GET]
  Parameters: {"id"=>"171"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 171) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 171) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/171]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:22:28) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 297ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:22:29) [GET]
  Parameters: {"id"=>"171"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 171) [0m

ActiveRecord::RecordNotFound (Couldn't find Consumer with ID=171):
  app/controllers/service_controller.rb:105:in `allowance'

Rendered rescues/_trace (219.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 19:22:31) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 109ms (View: 15, DB: 16) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:22:33) [POST]
  Parameters: {"consumer"=>{"pin"=>"2807"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:22:39) [POST]
  Parameters: {"consumer"=>{"pin"=>"2835"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 16:22:39', '2346834574', 102, '2010-06-16 16:22:39', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (0.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 16:22:39', 69.0, 10.0, 172, NULL, 't', '2010-06-16 16:22:39')[0m
Rendering service/check_pin_and_link_consumer
Completed in 375ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:22:51) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:22:53) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:22:54) [GET]
  Parameters: {"id"=>"172"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 172) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 172) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/172]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:23:54) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 266ms (View: 172, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:23:55) [GET]
  Parameters: {"id"=>"172"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 172) [0m

ActiveRecord::RecordNotFound (Couldn't find Consumer with ID=172):
  app/controllers/service_controller.rb:105:in `allowance'

Rendered rescues/_trace (234.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 19:23:57) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:23:59) [POST]
  Parameters: {"consumer"=>{"pin"=>"2835"}}
Rendering service/check_pin_and_link_consumer
Completed in 1000ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:24:05) [POST]
  Parameters: {"consumer"=>{"pin"=>"6038"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 16:24:05', '2346834574', 102, '2010-06-16 16:24:05', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 16:24:05', 69.0, 10.0, 173, NULL, 't', '2010-06-16 16:24:05')[0m
Rendering service/check_pin_and_link_consumer
Completed in 359ms (View: 15, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:24:40) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (undefined method `billing_phone' for true:TrueClass) on line #22 of app/views/service/payer_signedin.html.erb:
19: 				<p class="inner_content_text">To add a consumer, key-in his or her phone number and wait for the text message.</p>
20: 				<br />
21: 				<% form_for(:consumer, :url => {:action => "sms_consumer"}, :html => {:id => "phone_form"}) do |f| %>
22: 					<%= f.text_field :billing_phone, :size => 20, :placeholder => "Phone number", :class => "formfield" %>
23: 					<%= submit_tag "Click when done",:class => "fg-button ui-state-default loginbutton ui-corner-all"  %>
24: 				<% end %>
25: 				<br />

    app/views/service/payer_signedin.html.erb:22
    app/views/service/payer_signedin.html.erb:21

Rendered rescues/_trace (172.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:26:58) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (undefined method `billing_phone' for true:TrueClass) on line #22 of app/views/service/payer_signedin.html.erb:
19: 				<p class="inner_content_text">To add a consumer, key-in his or her phone number and wait for the text message.</p>
20: 				<br />
21: 				<% form_for(:consumer, :url => {:action => "sms_consumer"}, :html => {:id => "phone_form"}) do |f| %>
22: 					<%= f.text_field :billing_phone, :size => 20, :placeholder => "Phone number", :class => "formfield" %>
23: 					<%= submit_tag "Click when done",:class => "fg-button ui-state-default loginbutton ui-corner-all"  %>
24: 				<% end %>
25: 				<br />

    app/views/service/payer_signedin.html.erb:22
    app/views/service/payer_signedin.html.erb:21

Rendered rescues/_trace (438.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:27:35) [GET]
  [4;35;1mConsumer Load (16.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 31, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:27:36) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 2) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 2) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/2]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 19:27:45) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:27:46) [POST]
  Parameters: {"consumer"=>{"pin"=>"6038"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:27:57) [POST]
  Parameters: {"consumer"=>{"pin"=>"3685"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 16:27:57', '2346834574', 102, '2010-06-16 16:27:57', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (16.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 16:27:57', 69.0, 10.0, 174, NULL, 't', '2010-06-16 16:27:57')[0m
Rendering service/check_pin_and_link_consumer
Completed in 438ms (View: 16, DB: 16) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:32:08) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:32:10) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 2) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 2) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 313ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/2]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 19:32:14) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:32:15) [POST]
  Parameters: {"consumer"=>{"pin"=>"3685"}}
Rendering service/check_pin_and_link_consumer
Completed in 250ms (View: 15, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:32:19) [POST]
  Parameters: {"consumer"=>{"pin"=>"3907"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 16:32:19', '2346834574', 102, '2010-06-16 16:32:19', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 16:33:54', 69.0, 10.0, 175, NULL, 't', '2010-06-16 16:33:54')[0m
Rendering service/check_pin_and_link_consumer
Completed in 94750ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:34:11) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:34:12) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 2) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 2) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 297ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/2]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 19:34:14) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 109ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:34:16) [POST]
  Parameters: {"consumer"=>{"pin"=>"3907"}}
Rendering service/check_pin_and_link_consumer
Completed in 266ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:34:21) [POST]
  Parameters: {"consumer"=>{"pin"=>"9556"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 16:34:21', '2346834574', 102, '2010-06-16 16:34:21', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 16:34:47', 69.0, 10.0, 176, NULL, 't', '2010-06-16 16:34:47')[0m
Rendering service/check_pin_and_link_consumer
Completed in 25718ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:34:47) [POST]
  Parameters: {"consumer"=>{"pin"=>"9556"}}
Rendering service/check_pin_and_link_consumer
Completed in 265ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:34:48) [POST]
  Parameters: {"consumer"=>{"pin"=>"9556"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:34:48) [POST]
  Parameters: {"consumer"=>{"pin"=>"9556"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:35:16) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:35:17) [GET]
  Parameters: {"id"=>"176"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 176) [0m
  [4;35;1mPayerRule Load (15.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 176) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/176]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:35:29) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 281ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:35:30) [GET]
  Parameters: {"id"=>"176"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 176) [0m

ActiveRecord::RecordNotFound (Couldn't find Consumer with ID=176):
  app/controllers/service_controller.rb:107:in `allowance'

Rendered rescues/_trace (281.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 19:35:31) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 109ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:35:33) [POST]
  Parameters: {"consumer"=>{"pin"=>"9556"}}
Rendering service/check_pin_and_link_consumer
Completed in 360ms (View: 16, DB: 16) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:35:38) [POST]
  Parameters: {"consumer"=>{"pin"=>"6586"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 16:35:38', '2346834574', 102, '2010-06-16 16:35:38', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 16:35:38', 69.0, 10.0, 177, NULL, 't', '2010-06-16 16:35:38')[0m
Rendering service/check_pin_and_link_consumer
Completed in 359ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:39:21) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 156ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:39:22) [GET]
  Parameters: {"id"=>"177"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 177) [0m

ActiveRecord::RecordNotFound (Couldn't find Consumer with ID=177):
  app/controllers/service_controller.rb:107:in `allowance'

Rendered rescues/_trace (110.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (not_found)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:46:56) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #116 of app/views/service/payer_signedin.html.erb:
113: 	
114: 
115: 
116: 		viewAllowance (<%= session[:consumer].id %>);
117: 
118: 		viewConsumers2 ();	
119: 

    app/views/service/payer_signedin.html.erb:116

Rendered rescues/_trace (125.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:56:49) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m

NameError (uninitialized constant ServiceController::Consumers):
  app/controllers/service_controller.rb:99:in `payer_signedin'

Rendered rescues/_trace (93.0ms)
Rendered rescues/_request_and_response (0.0ms)
Rendering rescues/layout (internal_server_error)


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 19:57:52) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 344ms (View: 250, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:57:53) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 140ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:58:00) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 19:58:02) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 19:58:07) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:58:08) [POST]
  Parameters: {"consumer"=>{"pin"=>"6586"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 19:58:13) [POST]
  Parameters: {"consumer"=>{"pin"=>"4234"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 16:58:13', '2346834574', 102, '2010-06-16 16:58:13', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 16:58:13', 69.0, 10.0, 178, NULL, 't', '2010-06-16 16:58:13')[0m
Rendering service/check_pin_and_link_consumer
Completed in 375ms (View: 0, DB: 16) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 20:00:12) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 296ms (View: 203, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 20:00:13) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 20:00:15) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 282ms (View: 16, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 20:00:16) [POST]
  Parameters: {"consumer"=>{"pin"=>"4234"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 20:00:27) [POST]
  Parameters: {"consumer"=>{"pin"=>"7648"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 17:00:28', '2346834574', 102, '2010-06-16 17:00:28', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 17:05:12', 69.0, 10.0, 179, NULL, 't', '2010-06-16 17:05:12')[0m
Rendering service/check_pin_and_link_consumer
Completed in 285157ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 20:05:13) [GET]
  Parameters: {"id"=>"179"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 179) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 179) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/179]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 20:05:59) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 171ms (View: 62, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 20:06:01) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 297ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 20:06:03) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 109ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 20:06:04) [POST]
  Parameters: {"consumer"=>{"pin"=>"7648"}}
Rendering service/check_pin_and_link_consumer
Completed in 266ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 20:06:08) [POST]
  Parameters: {"consumer"=>{"pin"=>"6731"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 17:06:08', '2346834574', 102, '2010-06-16 17:06:08', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 17:06:09', 69.0, 10.0, 180, NULL, 't', '2010-06-16 17:06:09')[0m
Rendering service/check_pin_and_link_consumer
Completed in 360ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 20:06:09) [GET]
  Parameters: {"id"=>"180"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 180) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 180) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/180]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 20:06:39) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 141ms (View: 47, DB: 16) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 20:06:40) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 141ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 20:06:48) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834575"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834575') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 265ms (View: 15, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 20:06:50) [POST]
  Parameters: {"consumer"=>{"pin"=>"6731"}}
Rendering service/check_pin_and_link_consumer
Completed in 78ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 20:06:54) [POST]
  Parameters: {"consumer"=>{"pin"=>"2548"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 17:06:54', '2346834575', 102, '2010-06-16 17:06:54', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 17:06:55', 69.0, 10.0, 181, NULL, 't', '2010-06-16 17:06:55')[0m
Rendering service/check_pin_and_link_consumer
Completed in 375ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 20:06:55) [GET]
  Parameters: {"id"=>"181"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 181) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 181) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/181]


Processing ServiceController#budget_update (for 127.0.0.1 at 2010-06-16 20:07:20) [POST]
  Parameters: {"consumer"=>{"edited_balance"=>"$49.00"}, "commit"=>"Submit", "consumer_rule"=>{"rollover_human"=>"On", "edited_budget"=>"$69.00"}}

ActionController::UnknownAction (No action responded to budget_update. Actions: allowance, check_pin_and_link_consumer, consumers, joinin, payer_signedin, retailer_signedin, signin, signout, sms, and sms_consumer):
  

Rendering rescues/layout (not_found)


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:15:49) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 375ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:15:51) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:15:56) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 297ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:15:58) [GET]
  Parameters: {"id"=>"180"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 180) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 180) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/180]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:15:59) [GET]
  Parameters: {"id"=>"180"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 180) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 180) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 266ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/180]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:16:00) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:16:03) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (15.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 281ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 21:16:04) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 172ms (View: 78, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:16:05) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:16:11) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 250ms (View: 172, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:16:13) [GET]
  Parameters: {"id"=>"181"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 181) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 181) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/181]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:16:14) [GET]
  Parameters: {"id"=>"180"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 180) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 180) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 281ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/180]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:16:15) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:16:17) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 281ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:16:44) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:16:45) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 266ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:17:31) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:17:34) [GET]
  Parameters: {"id"=>"181"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 181) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 181) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 282ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/181]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:17:36) [GET]
  Parameters: {"id"=>"180"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 180) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 180) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 31, DB: 16) | 200 OK [http://localhost/service/allowance/180]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:17:44) [GET]
  Parameters: {"id"=>"181"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 181) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 181) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 282ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/181]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:18:04) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:18:06) [GET]
  Parameters: {"id"=>"181"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 181) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 181) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/181]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:18:07) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:18:09) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (16.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 15, DB: 32) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:18:09) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:18:12) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:18:13) [GET]
  Parameters: {"id"=>"181"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 181) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 181) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/181]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:18:14) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:18:16) [GET]
  Parameters: {"id"=>"180"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 180) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 180) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 0, DB: 0) | 200 OK [http://localhost/service/allowance/180]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 21:18:59) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 21:19:04) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 312ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 21:19:10) [GET]
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:19:12) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:19:22) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 266ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:19:24) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:19:27) [GET]
  Parameters: {"id"=>"181"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 181) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 181) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 282ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/181]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:19:28) [GET]
  Parameters: {"id"=>"180"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 180) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 180) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/180]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:19:42) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 281ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:19:45) [GET]
  Parameters: {"id"=>"144"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:19:47) [GET]
  Parameters: {"id"=>"180"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 180) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 180) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 281ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/180]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:19:49) [GET]
  Parameters: {"id"=>"181"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 181) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 181) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 16) | 200 OK [http://localhost/service/allowance/181]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:19:51) [GET]
  Parameters: {"id"=>"145"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 21:21:05) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834576"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834576') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 109ms (View: 16, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 21:21:07) [POST]
  Parameters: {"consumer"=>{"pin"=>"2548"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 21:21:12) [POST]
  Parameters: {"consumer"=>{"pin"=>"6633"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 18:21:12', '2346834576', 102, '2010-06-16 18:21:12', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (0.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 18:21:12', 69.0, 10.0, 182, NULL, 't', '2010-06-16 18:21:12')[0m
Rendering service/check_pin_and_link_consumer
Completed in 375ms (View: 0, DB: 15) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:21:13) [GET]
  Parameters: {"id"=>"182"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 182) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 182) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/182]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 21:23:17) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834577"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834577') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 297ms (View: 0, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 21:23:18) [POST]
  Parameters: {"consumer"=>{"pin"=>"6633"}}
Rendering service/check_pin_and_link_consumer
Completed in 94ms (View: 15, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 21:23:23) [POST]
  Parameters: {"consumer"=>{"pin"=>"4066"}}
  [4;35;1mConsumer Create (16.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 18:23:23', '2346834577', 102, '2010-06-16 18:23:23', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 18:23:23', 69.0, 10.0, 183, NULL, 't', '2010-06-16 18:23:23')[0m
Rendering service/check_pin_and_link_consumer
Completed in 593ms (View: 15, DB: 16) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:23:24) [GET]
  Parameters: {"id"=>"183"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 183) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 183) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 187ms (View: 93, DB: 0) | 200 OK [http://localhost/service/allowance/183]


Processing ServiceController#payer_signedin (for 127.0.0.1 at 2010-06-16 21:23:53) [GET]
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."payer_id" = 102) [0m
Rendering template within layouts/service
Rendering service/payer_signedin
Completed in 140ms (View: 47, DB: 0) | 200 OK [http://localhost/service/payer_signedin]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:23:56) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 329ms (View: 32, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 21:24:01) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834574"}}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834574') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 125ms (View: 16, DB: 15) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 21:24:02) [POST]
  Parameters: {"consumer"=>{"pin"=>"4066"}}
Rendering service/check_pin_and_link_consumer
Completed in 281ms (View: 16, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 21:24:06) [POST]
  Parameters: {"consumer"=>{"pin"=>"8041"}}
  [4;35;1mConsumer Create (0.0ms)[0m   [0mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 18:24:06', '2346834574', 102, '2010-06-16 18:24:06', 69.0, NULL)[0m
  [4;36;1mPayerRule Create (0.0ms)[0m   [0;1mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 18:24:06', 69.0, 10.0, 184, NULL, 't', '2010-06-16 18:24:06')[0m
Rendering service/check_pin_and_link_consumer
Completed in 391ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:24:07) [GET]
  Parameters: {"id"=>"184"}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."id" = 184) [0m
  [4;36;1mPayerRule Load (0.0ms)[0m   [0;1mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 184) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/184]


Processing ServiceController#sms_consumer (for 127.0.0.1 at 2010-06-16 21:24:34) [POST]
  Parameters: {"consumer"=>{"billing_phone"=>"2346834575"}}
  [4;35;1mConsumer Load (0.0ms)[0m   [0mSELECT * FROM "consumers" WHERE ("consumers"."billing_phone" = '2346834575') LIMIT 1[0m
Rendering service/sms_consumer
Completed in 125ms (View: 16, DB: 0) | 200 OK [http://localhost/service/sms_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 21:24:36) [POST]
  Parameters: {"consumer"=>{"pin"=>"8041"}}
Rendering service/check_pin_and_link_consumer
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#check_pin_and_link_consumer (for 127.0.0.1 at 2010-06-16 21:24:41) [POST]
  Parameters: {"consumer"=>{"pin"=>"0234"}}
  [4;36;1mConsumer Create (0.0ms)[0m   [0;1mINSERT INTO "consumers" ("updated_at", "billing_phone", "payer_id", "created_at", "balance", "pin") VALUES('2010-06-16 18:24:41', '2346834575', 102, '2010-06-16 18:24:41', 69.0, NULL)[0m
  [4;35;1mPayerRule Create (0.0ms)[0m   [0mINSERT INTO "payer_rules" ("auto_deny_over", "updated_at", "allowance", "auto_authorize_under", "consumer_id", "payer_id", "rollover", "created_at") VALUES(84.0, '2010-06-16 18:24:41', 69.0, 10.0, 185, NULL, 't', '2010-06-16 18:24:41')[0m
Rendering service/check_pin_and_link_consumer
Completed in 328ms (View: 0, DB: 0) | 200 OK [http://localhost/service/check_pin_and_link_consumer]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:24:42) [GET]
  Parameters: {"id"=>"185"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 185) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 185) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/185]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:26:10) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 328ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:26:12) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:26:17) [GET]
  Parameters: {"id"=>"185"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 185) [0m
  [4;35;1mPayerRule Load (15.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 185) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 297ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/185]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:26:19) [GET]
  Parameters: {"id"=>"184"}
  [4;36;1mConsumer Load (16.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 184) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 184) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 16) | 200 OK [http://localhost/service/allowance/184]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:26:44) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 281ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:26:46) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 110ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:26:48) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 281ms (View: 0, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:26:53) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 16, DB: 15) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:26:54) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:26:56) [GET]
  Parameters: {"id"=>"184"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 184) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 184) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/184]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:29:48) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 94ms (View: 16, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:29:49) [GET]
  Parameters: {"id"=>"185"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 185) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 185) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 93ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/185]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:29:50) [GET]
  Parameters: {"id"=>"184"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 184) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 184) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/184]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:29:52) [GET]
  Parameters: {"id"=>"144"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 144) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 144) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/144]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:29:53) [GET]
  Parameters: {"id"=>"145"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 145) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 145) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 125ms (View: 31, DB: 0) | 200 OK [http://localhost/service/allowance/145]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:29:55) [GET]
  Parameters: {"id"=>"185"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 185) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 185) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 266ms (View: 172, DB: 0) | 200 OK [http://localhost/service/allowance/185]


Processing ServiceController#allowance (for 127.0.0.1 at 2010-06-16 21:29:56) [GET]
  Parameters: {"id"=>"184"}
  [4;36;1mConsumer Load (0.0ms)[0m   [0;1mSELECT * FROM "consumers" WHERE ("consumers"."id" = 184) [0m
  [4;35;1mPayerRule Load (0.0ms)[0m   [0mSELECT * FROM "payer_rules" WHERE ("payer_rules".consumer_id = 184) ORDER BY created_at DESC LIMIT 1[0m
Rendering service/allowance
Completed in 109ms (View: 15, DB: 0) | 200 OK [http://localhost/service/allowance/184]
